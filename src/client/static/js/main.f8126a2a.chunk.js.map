{"version":3,"sources":["lib/graphql/mutations/LogIn/index.ts","lib/graphql/mutations/LogOut/index.ts","lib/graphql/mutations/ConnectStripe/index.ts","lib/graphql/mutations/DisconnectStripe/index.ts","lib/graphql/mutations/HostListing/index.ts","lib/graphql/mutations/CreateBooking/index.ts","lib/graphql/queries/Listings/index.ts","lib/graphql/globalTypes.ts","sections/Home/assets/toronto.jpg","sections/Home/assets/dubai.jpg","sections/Home/assets/los-angeles.jpg","sections/Home/assets/london.jpg","sections/Home/components/HomeHero/index.tsx","lib/components/ErrorBanner/index.tsx","lib/components/AppHeaderSkeleton/index.tsx","lib/components/AppHeaderSkeleton/assets/app-logo.png","lib/components/PageSkeleton/index.tsx","lib/utils/index.ts","lib/components/ListingCard/index.tsx","sections/Home/components/HomeListings/index.tsx","sections/Home/components/HomeListingsSkeleton/index.tsx","sections/Home/assets/listing-loading-card-cover.jpg","sections/Home/assets/map-background.jpg","sections/Home/assets/san-fransisco.jpg","sections/Home/assets/cancun.jpg","sections/Home/index.tsx","sections/Host/index.tsx","lib/graphql/queries/AuthUrl/index.ts","lib/graphql/queries/User/index.ts","lib/graphql/queries/Listing/index.ts","sections/Listing/components/ListingDetails/index.tsx","sections/Listing/components/ListingBookings/index.tsx","sections/Listing/components/ListingCreateBooking/index.tsx","sections/Listing/components/ListingCreateBookingModal/index.tsx","sections/Listing/index.tsx","sections/Listings/components/ListingsFilters/index.tsx","sections/Listings/components/ListingsPagination/index.tsx","sections/Listings/components/ListingsSkeleton/index.tsx","sections/Listings/assets/listing-loading-card-cover.jpg","sections/Listings/index.tsx","sections/NotFound/index.tsx","sections/User/components/UserProfile/index.tsx","sections/User/components/UserBookings/index.tsx","sections/User/components/UserListings/index.tsx","sections/User/index.tsx","sections/Login/index.tsx","sections/Login/assets/google.png","sections/AppHeader/assets/app-logo.png","sections/AppHeader/components/MenuItems/index.tsx","sections/AppHeader/index.tsx","sections/Stripe/index.tsx","index.tsx"],"names":["LOG_IN","gql","LOG_OUT","CONNECT_STRIPE","DISCONNECT_STRIPE","HOST_LISTING","CREATE_BOOKING","ListingEnergy","ListingType","ListingsFilter","LISTINGS","Title","Typography","Search","Input","HomeHero","onSearch","className","placeholder","size","enterButton","gutter","xs","md","to","cover","src","torontoImage","alt","dubaiImage","losAngelesImage","londonImage","ErrorBanner","message","description","banner","closable","type","Header","Layout","AppHeaderSkeleton","PageSkeleton","skeletonParagraph","active","paragraph","rows","iconColor","formatListingPrice","price","round","formattedListingPrice","Math","displaySuccessNotification","notification","placement","style","marginTop","displayErrorMessage","error","Text","ListingCard","listing","id","title","image","address","numOfSeats","hoverable","backgroundImage","level","strong","ellipsis","UserOutlined","color","paddingRight","HomeListings","listings","grid","sm","lg","xl","dataSource","renderItem","Item","HomeListingsSkeleton","loading","Content","Paragraph","Home","history","useQuery","variables","filter","PRICE_HIGH_TO_LOW","limit","page","data","mapBg","value","trimmedValue","trim","push","result","sanFranciscoImage","cancunImage","Form","beforeImageUpload","file","fileIsValidImage","fileIsValidSize","Host","viewer","useForm","form","useState","imageLoading","setImageLoading","imageBase64Value","setImageBase64Value","useMutation","onCompleted","onError","hostListing","hasWallet","handleHostListing","a","validateFields","values","guidelines","energy","numOfDoors","city","state","country","postalCode","fullAddress","input","layout","onFinish","name","label","rules","required","Group","Button","CAR","SUV","VAN","MINIVAN","TRUCK","GAS","DIESEL","ELECTRIC","HYBRID","extra","maxLength","TextArea","min","listType","showUploadList","action","beforeUpload","onChange","info","status","originFileObj","img","callback","reader","FileReader","onload","readAsDataURL","getBase64Value","LoadingOutlined","PlusOutlined","htmlType","AUTH_URL","USER","LISTING","ListingDetails","host","EnvironmentOutlined","avatar","expandable","ListingBookings","listingBookings","bookingsPage","setBookingsPage","total","listingBookingsList","undefined","locale","emptyText","pagination","position","current","defaultPageSize","hideOnSinglePage","showLessItems","listingBooking","bookingHistory","checkIn","checkOut","renter","shape","ListingCreateBooking","setViewer","bookingsIndex","checkInDate","checkOutDate","setCheckInDate","setCheckOutDate","setModalVisible","bookingsIndexJSON","JSON","parse","disabledDate","currentDate","isBefore","moment","endOf","year","month","day","date","Boolean","dateIsBooked","viewerIsHost","checkInInputDisabled","checkOutInputDisabled","buttonDisabled","buttonMessage","showToday","format","disabled","dateValue","onOpenChange","selectedCheckOutDate","dateCursor","add","verifyAndSetCheckOutDate","onClick","mark","ListingCreateBookingModal","modalVisible","clearBookingData","handleListingRefetch","stripe","useStripe","elements","useElements","createBooking","daysBooked","diff","listingPrice","handleCreateBooking","cardElement","getElement","CardElement","createToken","stripeToken","token","source","visible","centered","footer","onCancel","CarOutlined","options","hidePostalCode","Listing","match","params","refetch","bookings","listingDetailsElement","listingBookingsElement","listingCreateBooking","listingCreateBookingModalElement","justify","Option","Select","ListingsFilters","setFilter","PRICE_LOW_TO_HIGH","ListingsPagination","setPage","ListingsSkeleton","Listings","locationRef","useRef","location","skip","useEffect","listingsRegion","region","listingsSectionElement","length","offsetTop","listingsRegionElement","NotFound","stripeAuthUrl","process","UserProfile","user","viewerIsUser","handleUserRefetch","disconnectStripe","additionalDetails","income","window","href","target","rel","additionalDetailsSection","contact","UserBookings","userBookings","userBookingsList","userBooking","UserListings","userListings","listingsPage","setListingsPage","userListingsList","userListing","User","stripeErrorBanner","URL","searchParams","get","userProfileElement","userListingsElement","userBookingsElement","Login","client","useApolloClient","logIn","sessionStorage","setItem","logInData","logInLoading","logInError","logInRef","code","handleAuthorize","query","authUrl","console","log","tip","viewerId","logInErrorBannerElement","Menu","SubMenu","MenuItems","logOut","removeItem","subMenuLogin","LogoutOutlined","LoginOutlined","mode","selectable","HomeOutlined","AppHeader","withRouter","search","setSearch","pathname","pathnameSubStrings","split","includes","logo","e","Stripe","connectStripe","connectStripeRef","replace","ApolloClient","uri","request","operation","getItem","setContext","headers","initialViewer","didRequest","stripePromise","loadStripe","App","exact","path","component","render","props","document","getElementById"],"mappings":"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","file":"static/js/main.f8126a2a.chunk.js","sourcesContent":["import { gql } from 'apollo-boost';\r\n\r\nexport const LOG_IN = gql`\r\n\tmutation LogIn($input: LogInInput) {\r\n\t\tlogIn(input: $input) {\r\n\t\t\tid\r\n\t\t\ttoken\r\n\t\t\tavatar\r\n\t\t\thasWallet\r\n\t\t\tdidRequest\r\n\t\t}\r\n\t}\r\n`;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const LOG_OUT = gql`\r\n\tmutation LogOut {\r\n\t\tlogOut {\r\n\t\t\tid\r\n\t\t\ttoken\r\n\t\t\tavatar\r\n\t\t\thasWallet\r\n\t\t\tdidRequest\r\n\t\t}\r\n\t}\r\n`;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const CONNECT_STRIPE = gql`\r\n\tmutation ConnectStripe($input: ConnectStripeInput!) {\r\n\t\tconnectStripe(input: $input) {\r\n\t\t\thasWallet\r\n\t\t}\r\n\t}\r\n`;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const DISCONNECT_STRIPE = gql`\r\n\tmutation DisconnectStripe {\r\n\t\tdisconnectStripe {\r\n\t\t\thasWallet\r\n\t\t}\r\n\t}\r\n`;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const HOST_LISTING = gql`\r\n\tmutation HostListing($input: HostListingInput!) {\r\n\t\thostListing(input: $input) {\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const CREATE_BOOKING = gql`\r\n\tmutation CreateBooking($input: CreateBookingInput!) {\r\n\t\tcreateBooking(input: $input) {\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const LISTINGS = gql`\r\n\tquery Listings(\r\n\t\t$location: String\r\n\t\t$filter: ListingsFilter!\r\n\t\t$limit: Int!\r\n\t\t$page: Int!\r\n\t) {\r\n\t\tlistings(location: $location, filter: $filter, limit: $limit, page: $page) {\r\n\t\t\tregion\r\n\t\t\ttotal\r\n\t\t\tresult {\r\n\t\t\t\tid\r\n\t\t\t\ttitle\r\n\t\t\t\timage\r\n\t\t\t\taddress\r\n\t\t\t\tprice\r\n\t\t\t\tnumOfSeats\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n","/* tslint:disable */\n/* eslint-disable */\n// @generated\n// This file was automatically generated and should not be edited.\n\n//==============================================================\n// START Enums and Input Objects\n//==============================================================\n\nexport enum ListingEnergy {\n  DIESEL = \"DIESEL\",\n  ELECTRIC = \"ELECTRIC\",\n  GAS = \"GAS\",\n  HYBRID = \"HYBRID\",\n}\n\nexport enum ListingType {\n  CAR = \"CAR\",\n  MINIVAN = \"MINIVAN\",\n  SUV = \"SUV\",\n  TRUCK = \"TRUCK\",\n  VAN = \"VAN\",\n}\n\nexport enum ListingsFilter {\n  PRICE_HIGH_TO_LOW = \"PRICE_HIGH_TO_LOW\",\n  PRICE_LOW_TO_HIGH = \"PRICE_LOW_TO_HIGH\",\n}\n\nexport interface ConnectStripeInput {\n  code: string;\n}\n\nexport interface CreateBookingInput {\n  id: string;\n  source: string;\n  checkIn: string;\n  checkOut: string;\n}\n\nexport interface HostListingInput {\n  title: string;\n  description: string;\n  guidelines?: string | null;\n  image: string;\n  type: ListingType;\n  energy: ListingEnergy;\n  address: string;\n  country: string;\n  price: number;\n  milesPerGallon?: number | null;\n  numOfSeats: number;\n  numOfDoors?: number | null;\n}\n\nexport interface LogInInput {\n  code: string;\n}\n\n//==============================================================\n// END Enums and Input Objects\n//==============================================================\n","export default __webpack_public_path__ + \"static/media/toronto.5c221cf7.jpg\";","export default __webpack_public_path__ + \"static/media/dubai.a6c56bca.jpg\";","export default __webpack_public_path__ + \"static/media/los-angeles.44220702.jpg\";","export default __webpack_public_path__ + \"static/media/london.16fb9b9d.jpg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, Col, Input, Row, Typography } from 'antd';\r\n\r\nimport torontoImage from '../../assets/toronto.jpg';\r\nimport dubaiImage from '../../assets/dubai.jpg';\r\nimport losAngelesImage from '../../assets/los-angeles.jpg';\r\nimport londonImage from '../../assets/london.jpg';\r\n\r\nconst { Title } = Typography;\r\nconst { Search } = Input;\r\n\r\ninterface Props {\r\n\tonSearch: (value: string) => void;\r\n}\r\n\r\nexport const HomeHero = ({ onSearch }: Props) => {\r\n\treturn (\r\n\t\t<div className=\"home-hero\">\r\n\t\t\t<div className=\"home-hero__search\">\r\n\t\t\t\t<Title className=\"home-hero__title\">\r\n\t\t\t\t\tFind a place you want to book your car\r\n\t\t\t\t</Title>\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Search for location\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tenterButton\r\n\t\t\t\t\tclassName=\"home-hero__search-input\"\r\n\t\t\t\t\tonSearch={onSearch}\r\n\t\t\t\t></Search>\r\n\t\t\t</div>\r\n\t\t\t<Row gutter={12} className=\"home-hero__cards\">\r\n\t\t\t\t<Col xs={12} md={6}>\r\n\t\t\t\t\t<Link to=\"/listings/toronto\">\r\n\t\t\t\t\t\t<Card cover={<img src={torontoImage} alt=\"toronto\" />}>\r\n\t\t\t\t\t\t\tToronto\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col xs={12} md={6}>\r\n\t\t\t\t\t<Link to=\"/listings/dubai\">\r\n\t\t\t\t\t\t<Card cover={<img src={dubaiImage} alt=\"dubai\" />}>Dubai</Card>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col xs={0} md={6}>\r\n\t\t\t\t\t<Link to=\"/listings/los%20angeles\">\r\n\t\t\t\t\t\t<Card cover={<img src={losAngelesImage} alt=\"losAngeles\" />}>\r\n\t\t\t\t\t\t\tLos Angeles\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col xs={0} md={6}>\r\n\t\t\t\t\t<Link to=\"/listings/london\">\r\n\t\t\t\t\t\t<Card cover={<img src={londonImage} alt=\"london\" />}>London</Card>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { Alert } from 'antd';\r\n\r\ninterface Props {\r\n\tmessage?: string;\r\n\tdescription?: string;\r\n}\r\n\r\nexport const ErrorBanner = ({\r\n\tmessage = 'Uh oh! Something went wrong :(',\r\n\tdescription = 'Look like something went wrong. Please check you connection and/or try again',\r\n}: Props) => {\r\n\treturn (\r\n\t\t<Alert\r\n\t\t\tbanner\r\n\t\t\tclosable\r\n\t\t\tmessage={message}\r\n\t\t\tdescription={description}\r\n\t\t\ttype=\"error\"\r\n\t\t\tclassName=\"error-banner\"\r\n\t\t/>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { Layout } from 'antd';\r\nimport logo from './assets/app-logo.png';\r\n\r\nconst { Header } = Layout;\r\n\r\nexport const AppHeaderSkeleton = () => {\r\n\treturn (\r\n\t\t<Header className=\"app-header\">\r\n\t\t\t<div className=\"app-header__logo-search-section\">\r\n\t\t\t\t<div className=\"app-header__logo\">\r\n\t\t\t\t\t<img src={logo} alt=\"App logo\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Header>\r\n\t);\r\n};\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { Skeleton } from 'antd';\r\n\r\nexport const PageSkeleton = () => {\r\n\tconst skeletonParagraph = (\r\n\t\t<Skeleton\r\n\t\t\tactive\r\n\t\t\tparagraph={{ rows: 4 }}\r\n\t\t\tclassName=\"page-skeleton__paragraph\"\r\n\t\t/>\r\n\t);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{skeletonParagraph}\r\n\t\t\t{skeletonParagraph}\r\n\t\t\t{skeletonParagraph}\r\n\t\t</>\r\n\t);\r\n};\r\n","import { message, notification } from 'antd';\r\n\r\nexport const iconColor = '#0b76d9';\r\nexport const formatListingPrice = (price: number, round = true) => {\r\n\tconst formattedListingPrice = round ? Math.round(price / 100) : price / 100;\r\n\treturn `$${formattedListingPrice}`;\r\n};\r\n\r\nexport const displaySuccessNotification = (\r\n\tmessage: string,\r\n\tdescription?: string\r\n) => {\r\n\treturn notification['success']({\r\n\t\tmessage,\r\n\t\tdescription,\r\n\t\tplacement: 'topLeft',\r\n\t\tstyle: {\r\n\t\t\tmarginTop: 50,\r\n\t\t},\r\n\t});\r\n};\r\n\r\nexport const displayErrorMessage = (error: string) => {\r\n\treturn message.error(error);\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, Typography } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { iconColor, formatListingPrice } from '../../utils';\r\n\r\ninterface Props {\r\n\tlisting: {\r\n\t\tid: string;\r\n\t\ttitle: string;\r\n\t\timage: string;\r\n\t\taddress: string;\r\n\t\tprice: number;\r\n\t\tnumOfSeats: number;\r\n\t};\r\n}\r\n\r\nconst { Text, Title } = Typography;\r\n\r\nexport const ListingCard = ({ listing }: Props) => {\r\n\tconst { id, title, image, address, price, numOfSeats } = listing;\r\n\r\n\treturn (\r\n\t\t<Link to={`/listing/${id}`}>\r\n\t\t\t<Card\r\n\t\t\t\thoverable\r\n\t\t\t\tcover={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{ backgroundImage: `url(${image})` }}\r\n\t\t\t\t\t\tclassName=\"listing-card__cover-img\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"listing-card__details\">\r\n\t\t\t\t\t<div className=\"listing-card__description\">\r\n\t\t\t\t\t\t<Title level={4} className=\"listing-card__price\">\r\n\t\t\t\t\t\t\t{formatListingPrice(price)}\r\n\t\t\t\t\t\t\t<span>/day</span>\r\n\t\t\t\t\t\t</Title>\r\n\t\t\t\t\t\t<Text strong ellipsis className=\"listing-card__title\">\r\n\t\t\t\t\t\t\t{title}\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t<Text ellipsis className=\"listing-card__address\">\r\n\t\t\t\t\t\t\t{address}\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"listing-card__dimensions listing-card__dimensions--guests\">\r\n\t\t\t\t\t\t<UserOutlined style={{ color: iconColor, paddingRight: '10px' }} />\r\n\t\t\t\t\t\t<Text>{numOfSeats} seats</Text>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Card>\r\n\t\t</Link>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { List, Typography } from 'antd';\r\nimport { ListingCard } from '../../../../lib/components';\r\nimport { Listings } from '../../../../lib/graphql/queries/Listings/__generated__/Listings';\r\n\r\ninterface Props {\r\n\ttitle: string;\r\n\tlistings: Listings['listings']['result'];\r\n}\r\n\r\nconst { Title } = Typography;\r\n\r\nexport const HomeListings = ({ title, listings }: Props) => {\r\n\treturn (\r\n\t\t<div className=\"home-listings\">\r\n\t\t\t<Title level={4} className=\"home-listings__title\">\r\n\t\t\t\t{title}\r\n\t\t\t</Title>\r\n\t\t\t<List\r\n\t\t\t\tgrid={{\r\n\t\t\t\t\tgutter: 8,\r\n\t\t\t\t\txs: 1,\r\n\t\t\t\t\tsm: 2,\r\n\t\t\t\t\tlg: 4,\r\n\t\t\t\t\txl: 4,\r\n\t\t\t\t}}\r\n\t\t\t\tdataSource={listings}\r\n\t\t\t\trenderItem={(listing) => (\r\n\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t<ListingCard listing={listing} />\r\n\t\t\t\t\t</List.Item>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { List, Card, Skeleton } from 'antd';\r\n\r\nimport listingLoadingCardCover from '../../assets/listing-loading-card-cover.jpg';\r\n\r\nexport const HomeListingsSkeleton = () => {\r\n\tconst emptyData = [{}, {}, {}, {}];\r\n\treturn (\r\n\t\t<div className=\"home-listings-skeleton\">\r\n\t\t\t<Skeleton paragraph={{ rows: 0 }} />\r\n\t\t\t<List\r\n\t\t\t\tgrid={{\r\n\t\t\t\t\tgutter: 8,\r\n\t\t\t\t\txs: 1,\r\n\t\t\t\t\tsm: 2,\r\n\t\t\t\t\tlg: 4,\r\n\t\t\t\t\txl: 4,\r\n\t\t\t\t}}\r\n\t\t\t\tdataSource={emptyData}\r\n\t\t\t\trenderItem={() => (\r\n\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"home-listings-skeleton__card-cover-img\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundImage: `url(${listingLoadingCardCover})` }}\r\n\t\t\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tloading\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</List.Item>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAoEAAAGsCAYAAACiiX3NAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAABcgSURBVHgB7daxDYAwEARBm9yI/qtEUIARdex8BzuX/BiOAAECBAgQIEAgJzD/4vt5d65cMAECBAgQIEAgKnCdax7RdtkECBAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAAECBAgQIECAAAECBFoCH+giB1TBDI5HAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/map-background.c8201cdd.jpg\";","export default __webpack_public_path__ + \"static/media/san-fransisco.bc8599ab.jpg\";","export default __webpack_public_path__ + \"static/media/cancun.7009e472.jpg\";","import React from 'react';\r\nimport { Link, RouteComponentProps } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/react-hooks';\r\nimport { Col, Row, Layout, Typography } from 'antd';\r\nimport { LISTINGS } from '../../lib/graphql/queries/Listings';\r\nimport { ListingsFilter } from '../../lib/graphql/globalTypes';\r\nimport {\r\n\tListings as ListingsData,\r\n\tListingsVariables,\r\n} from '../../lib/graphql/queries/Listings/__generated__/Listings';\r\nimport { HomeHero, HomeListings, HomeListingsSkeleton } from './components';\r\nimport { displayErrorMessage } from '../../lib/utils';\r\n\r\nimport mapBg from './assets/map-background.jpg';\r\nimport sanFranciscoImage from './assets/san-fransisco.jpg';\r\nimport cancunImage from './assets/cancun.jpg';\r\n\r\nconst { Content } = Layout;\r\nconst { Paragraph, Title } = Typography;\r\n\r\nconst PAGE_LIMIT = 4;\r\nconst PAGE_NUMBER = 1;\r\n\r\nexport const Home = ({ history }: RouteComponentProps) => {\r\n\tconst { data, loading, error } = useQuery<ListingsData, ListingsVariables>(\r\n\t\tLISTINGS,\r\n\t\t{\r\n\t\t\tvariables: {\r\n\t\t\t\tfilter: ListingsFilter.PRICE_HIGH_TO_LOW,\r\n\t\t\t\tlimit: PAGE_LIMIT,\r\n\t\t\t\tpage: PAGE_NUMBER,\r\n\t\t\t},\r\n\t\t}\r\n\t);\r\n\r\n\tconst onSearch = (value: string) => {\r\n\t\tconst trimmedValue = value.trim();\r\n\r\n\t\tif (trimmedValue) {\r\n\t\t\thistory.push(`/listings/${trimmedValue}`);\r\n\t\t} else {\r\n\t\t\tdisplayErrorMessage('Please enter a valid search term');\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderListingsSection = () => {\r\n\t\tif (loading) {\r\n\t\t\treturn <HomeListingsSkeleton />;\r\n\t\t}\r\n\t\tif (data) {\r\n\t\t\treturn (\r\n\t\t\t\t<HomeListings title=\"Premium Cars\" listings={data.listings.result} />\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Content className=\"home\" style={{ backgroundImage: `url(${mapBg})` }}>\r\n\t\t\t<HomeHero onSearch={onSearch} />\r\n\r\n\t\t\t<div className=\"home__cta-section\">\r\n\t\t\t\t<Title level={2} className=\"home__cta-section-title\">\r\n\t\t\t\t\tWay better than a rental car\r\n\t\t\t\t</Title>\r\n\t\t\t\t<Paragraph>\r\n\t\t\t\t\tBook unforgettable cars from trusted hosts around the world\r\n\t\t\t\t</Paragraph>\r\n\t\t\t\t<Link\r\n\t\t\t\t\tto=\"/listings/united%20states\"\r\n\t\t\t\t\tclassName=\"ant-btn ant-btn-primary ant-btn-lg home__cta-section-button\"\r\n\t\t\t\t>\r\n\t\t\t\t\tPopular listings in the US\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\r\n\t\t\t{renderListingsSection()}\r\n\r\n\t\t\t<div className=\"home-listings\">\r\n\t\t\t\t<Title level={4} className=\"home__listings-title\">\r\n\t\t\t\t\tOur Suggestions\r\n\t\t\t\t</Title>\r\n\t\t\t\t<Row gutter={12}>\r\n\t\t\t\t\t<Col xs={24} sm={12}>\r\n\t\t\t\t\t\t<Link to=\"/listings/san%20francisco\">\r\n\t\t\t\t\t\t\t<div className=\"home__listings-img-cover\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={sanFranciscoImage}\r\n\t\t\t\t\t\t\t\t\talt=\"San Francisco\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"home__listings-img\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col xs={24} sm={12}>\r\n\t\t\t\t\t\t<Link to=\"/listings/cancún\">\r\n\t\t\t\t\t\t\t<div className=\"home__listings-img-cover\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={cancunImage}\r\n\t\t\t\t\t\t\t\t\talt=\"CanCún\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"home__listings-img\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t</Content>\r\n\t);\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport {\r\n\tForm,\r\n\tInput,\r\n\tInputNumber,\r\n\tLayout,\r\n\tTypography,\r\n\tRadio,\r\n\tUpload,\r\n\tButton,\r\n} from 'antd';\r\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { UploadChangeParam } from 'antd/lib/upload';\r\nimport { Viewer } from '../../lib/types';\r\nimport { HOST_LISTING } from '../../lib/graphql/mutations';\r\nimport {\r\n\tHostListing as HostListingData,\r\n\tHostListingVariables,\r\n} from '../../lib/graphql/mutations/HostListing/__generated__/HostListing';\r\nimport { ListingEnergy, ListingType } from '../../lib/graphql/globalTypes';\r\nimport {\r\n\tdisplayErrorMessage,\r\n\tdisplaySuccessNotification,\r\n} from '../../lib/utils';\r\n\r\ninterface Props {\r\n\tviewer: Viewer;\r\n}\r\n\r\nconst { Content } = Layout;\r\nconst { Text, Title } = Typography;\r\nconst { Item } = Form;\r\n\r\nconst getBase64Value = (\r\n\timg: File | Blob,\r\n\tcallback: (imageBase64Value: string) => void\r\n) => {\r\n\tconst reader = new FileReader();\r\n\treader.onload = () => {\r\n\t\tcallback(reader.result as string);\r\n\t};\r\n\treader.readAsDataURL(img);\r\n};\r\n\r\nconst beforeImageUpload = (file: File) => {\r\n\tconst fileIsValidImage =\r\n\t\tfile.type === 'image/jpeg' || file.type === 'image/png';\r\n\r\n\tconst fileIsValidSize = file.size / 1024 / 1024 < 1;\r\n\r\n\tif (!fileIsValidSize) {\r\n\t\tdisplayErrorMessage(\r\n\t\t\t\"You're only able to upload valid image files of under 1MB in size!\"\r\n\t\t);\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (!fileIsValidImage) {\r\n\t\tdisplayErrorMessage(\"You're only able to upload valid JPG or PNG files!\");\r\n\t\treturn false;\r\n\t}\r\n\r\n\treturn fileIsValidImage && fileIsValidSize;\r\n};\r\n\r\nexport const Host = ({ viewer }: Props) => {\r\n\tconst [form] = Form.useForm();\r\n\r\n\tconst [imageLoading, setImageLoading] = useState(false);\r\n\tconst [imageBase64Value, setImageBase64Value] = useState<string | null>(null);\r\n\r\n\tconst [hostListing, { data, loading }] = useMutation<\r\n\t\tHostListingData,\r\n\t\tHostListingVariables\r\n\t>(HOST_LISTING, {\r\n\t\tonCompleted: () => {\r\n\t\t\tdisplaySuccessNotification(\r\n\t\t\t\t\"Congratulations! You've successfully created your listing!\"\r\n\t\t\t);\r\n\t\t},\r\n\t\tonError: () => {\r\n\t\t\tdisplayErrorMessage(\r\n\t\t\t\t\"Sorry! We weren't able to create your listing. Please try again! Make sure you enter valid address, city and country.\"\r\n\t\t\t);\r\n\t\t},\r\n\t});\r\n\r\n\tconst handleImageUpload = (info: UploadChangeParam) => {\r\n\t\tconst { file } = info;\r\n\r\n\t\tif (file.status === 'uploading') {\r\n\t\t\tsetImageLoading(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (file.status === 'done' && file.originFileObj) {\r\n\t\t\tgetBase64Value(file.originFileObj, (imageBase64Value) => {\r\n\t\t\t\tsetImageBase64Value(imageBase64Value);\r\n\t\t\t\tsetImageLoading(false);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tif (!viewer.id || !viewer.hasWallet) {\r\n\t\treturn (\r\n\t\t\t<Content className=\"host-content\">\r\n\t\t\t\t<div className=\"host__form-header\">\r\n\t\t\t\t\t<Title level={3} className=\"host__form-title\">\r\n\t\t\t\t\t\tYou'll have to be signed in and connected with Stripe to host a\r\n\t\t\t\t\t\tlisting!\r\n\t\t\t\t\t</Title>\r\n\r\n\t\t\t\t\t<Text type=\"secondary\">\r\n\t\t\t\t\t\tWe only allow users who've signed in to our application and have\r\n\t\t\t\t\t\tconnected with Stripe to host new listings. You can sign in at the{' '}\r\n\t\t\t\t\t\t<Link to=\"/login\">Login</Link> page and connect with Stripe shortly\r\n\t\t\t\t\t\tafter.\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</div>\r\n\t\t\t</Content>\r\n\t\t);\r\n\t}\r\n\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<Content className=\"host-content\">\r\n\t\t\t\t<div className=\"host__form-header\">\r\n\t\t\t\t\t<Title level={3} className=\"host__form-title\">\r\n\t\t\t\t\t\tPlease wait a sec!\r\n\t\t\t\t\t</Title>\r\n\t\t\t\t\t<Text>We are creating your listing now!</Text>\r\n\t\t\t\t</div>\r\n\t\t\t</Content>\r\n\t\t);\r\n\t}\r\n\r\n\tif (data && data.hostListing) {\r\n\t\treturn <Redirect to={`/listing/${data.hostListing.id}`} />;\r\n\t}\r\n\r\n\tconst handleHostListing = async () => {\r\n\t\ttry {\r\n\t\t\tconst values = await form.validateFields();\r\n\r\n\t\t\tconst {\r\n\t\t\t\ttitle,\r\n\t\t\t\tdescription,\r\n\t\t\t\tguidelines,\r\n\t\t\t\ttype,\r\n\t\t\t\tenergy,\r\n\t\t\t\taddress,\r\n\t\t\t\tnumOfSeats,\r\n\t\t\t\tnumOfDoors,\r\n\t\t\t\tcity,\r\n\t\t\t\tstate,\r\n\t\t\t\tcountry,\r\n\t\t\t\tpostalCode,\r\n\t\t\t\tprice,\r\n\t\t\t} = values;\r\n\r\n\t\t\tconst fullAddress = `${address}, ${city}, ${state} ${postalCode}, ${country}`;\r\n\r\n\t\t\tconst input = {\r\n\t\t\t\ttitle,\r\n\t\t\t\tdescription,\r\n\t\t\t\tguidelines,\r\n\t\t\t\ttype,\r\n\t\t\t\tenergy,\r\n\t\t\t\tnumOfSeats,\r\n\t\t\t\tnumOfDoors,\r\n\t\t\t\taddress: fullAddress,\r\n\t\t\t\tcountry,\r\n\t\t\t\timage: imageBase64Value as string,\r\n\t\t\t\tprice: price * 100,\r\n\t\t\t};\r\n\r\n\t\t\thostListing({\r\n\t\t\t\tvariables: {\r\n\t\t\t\t\tinput,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tdisplayErrorMessage('Please complete all required form fields!');\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Content className=\"host-content\">\r\n\t\t\t<Form form={form} layout=\"vertical\" onFinish={handleHostListing}>\r\n\t\t\t\t<div className=\"host__form-header\">\r\n\t\t\t\t\t<Title level={3} className=\"host__form-title\">\r\n\t\t\t\t\t\tLet your car work while you finally take that vacay!\r\n\t\t\t\t\t</Title>\r\n\t\t\t\t\t<Text type=\"secondary\">\r\n\t\t\t\t\t\tIn this form, we'll collect some basic and additional information\r\n\t\t\t\t\t\tabout your car.\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Item\r\n\t\t\t\t\tname=\"type\"\r\n\t\t\t\t\tlabel=\"Vehicle Type\"\r\n\t\t\t\t\trules={[{ required: true, message: 'Please select vehicle type!' }]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Radio.Group name=\"type\">\r\n\t\t\t\t\t\t<Radio.Button value={ListingType.CAR}>\r\n\t\t\t\t\t\t\t<span>Car</span>\r\n\t\t\t\t\t\t</Radio.Button>\r\n\t\t\t\t\t\t<Radio.Button value={ListingType.SUV}>\r\n\t\t\t\t\t\t\t<span>SUV</span>\r\n\t\t\t\t\t\t</Radio.Button>\r\n\t\t\t\t\t\t<Radio.Button value={ListingType.VAN}>\r\n\t\t\t\t\t\t\t<span>Van</span>\r\n\t\t\t\t\t\t</Radio.Button>\r\n\t\t\t\t\t\t<Radio.Button value={ListingType.MINIVAN}>\r\n\t\t\t\t\t\t\t<span>Minivan</span>\r\n\t\t\t\t\t\t</Radio.Button>\r\n\t\t\t\t\t\t<Radio.Button value={ListingType.TRUCK}>\r\n\t\t\t\t\t\t\t<span>Truck</span>\r\n\t\t\t\t\t\t</Radio.Button>\r\n\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t</Item>\r\n\r\n\t\t\t\t<Item\r\n\t\t\t\t\tname=\"energy\"\r\n\t\t\t\t\trules={[{ required: true, message: 'Please select vehicle energy!' }]}\r\n\t\t\t\t\tlabel=\"Energy Type\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Radio.Group>\r\n\t\t\t\t\t\t<Radio.Button value={ListingEnergy.GAS}>\r\n\t\t\t\t\t\t\t<span>Gas</span>\r\n\t\t\t\t\t\t</Radio.Button>\r\n\t\t\t\t\t\t<Radio.Button value={ListingEnergy.DIESEL}>\r\n\t\t\t\t\t\t\t<span>Diesel</span>\r\n\t\t\t\t\t\t</Radio.Button>\r\n\t\t\t\t\t\t<Radio.Button value={ListingEnergy.ELECTRIC}>\r\n\t\t\t\t\t\t\t<span>Electric</span>\r\n\t\t\t\t\t\t</Radio.Button>\r\n\t\t\t\t\t\t<Radio.Button value={ListingEnergy.HYBRID}>\r\n\t\t\t\t\t\t\t<span>Hybrid</span>\r\n\t\t\t\t\t\t</Radio.Button>\r\n\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t</Item>\r\n\r\n\t\t\t\t<Item\r\n\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\tlabel=\"Title\"\r\n\t\t\t\t\textra=\"Max character count of 45\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Please enter a title for your listing!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input maxLength={45} placeholder=\"Tesla Model X 2020\" />\r\n\t\t\t\t</Item>\r\n\r\n\t\t\t\t<Item\r\n\t\t\t\t\tlabel=\"Description\"\r\n\t\t\t\t\textra=\"Max character count of 400\"\r\n\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Please enter description for your listing!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input.TextArea\r\n\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\tmaxLength={400}\r\n\t\t\t\t\t\tplaceholder=\"Midnight Silver Metallic Exterior with Black Interior. Fully loaded with premium package and bio defense air filter! Perfect for traveling anywhere!\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Item>\r\n\r\n\t\t\t\t<Item\r\n\t\t\t\t\tlabel=\"Guidelines\"\r\n\t\t\t\t\textra=\"Max character count of 400\"\r\n\t\t\t\t\tname=\"guidelines\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input.TextArea\r\n\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\tmaxLength={400}\r\n\t\t\t\t\t\tplaceholder=\"Smoking/Vaping/Food/Drinks and pets are NOT allowed inside the car.\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Item>\r\n\r\n\t\t\t\t<Item\r\n\t\t\t\t\tname=\"numOfSeats\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ required: true, message: 'Please enter a number of seats!' },\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tlabel=\"Number of Seats\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<InputNumber min={1} placeholder=\"4\" />\r\n\t\t\t\t</Item>\r\n\r\n\t\t\t\t<Item name=\"numOfDoors\" label=\"Number of Doors\">\r\n\t\t\t\t\t<InputNumber min={1} placeholder=\"4\" />\r\n\t\t\t\t</Item>\r\n\r\n\t\t\t\t<Item\r\n\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Please enter address for your listing!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tlabel=\"Address\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"565 5th Ave\" />\r\n\t\t\t\t</Item>\r\n\t\t\t\t<Item\r\n\t\t\t\t\tname=\"city\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ required: true, message: 'Please enter city for your listing!' },\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tlabel=\"City/Town\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"New York\" />\r\n\t\t\t\t</Item>\r\n\t\t\t\t<Item\r\n\t\t\t\t\tname=\"state\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Please enter state or province for your listing!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tlabel=\"State/Province\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"New York\" />\r\n\t\t\t\t</Item>\r\n\r\n\t\t\t\t<Item\r\n\t\t\t\t\tname=\"country\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Please enter country for your listing!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tlabel=\"Country\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"United States\" />\r\n\t\t\t\t</Item>\r\n\r\n\t\t\t\t<Item\r\n\t\t\t\t\tname=\"postalCode\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Please enter ZIP or postal code for your listing!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tlabel=\"Zip/Postal Code\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Please enter a zip code for your listing!\" />\r\n\t\t\t\t</Item>\r\n\r\n\t\t\t\t<Item\r\n\t\t\t\t\tname=\"image\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ required: true, message: 'Please upload an image of your car!' },\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tlabel=\"Image\"\r\n\t\t\t\t\textra=\"Images have to be under 1MB in size and of type JPG or PNG\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"host__form-image-upload\">\r\n\t\t\t\t\t\t<Upload\r\n\t\t\t\t\t\t\t// name=\"image\"\r\n\t\t\t\t\t\t\tlistType=\"picture-card\"\r\n\t\t\t\t\t\t\tshowUploadList={false}\r\n\t\t\t\t\t\t\taction=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n\t\t\t\t\t\t\tbeforeUpload={beforeImageUpload}\r\n\t\t\t\t\t\t\tonChange={handleImageUpload}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{imageBase64Value ? (\r\n\t\t\t\t\t\t\t\t<img src={imageBase64Value} alt=\"Listing\" />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{imageLoading ? <LoadingOutlined /> : <PlusOutlined />}\r\n\t\t\t\t\t\t\t\t\t<div className=\"ant-upload-text\">Upload</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Item>\r\n\r\n\t\t\t\t<Item\r\n\t\t\t\t\tname=\"price\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ required: true, message: 'Please enter price for your listing!' },\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tlabel=\"Price\"\r\n\t\t\t\t\textra=\"All prices in $USD/day\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<InputNumber min={0} placeholder=\"120\" />\r\n\t\t\t\t</Item>\r\n\r\n\t\t\t\t<Item>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Item>\r\n\t\t\t</Form>\r\n\t\t</Content>\r\n\t);\r\n};\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const AUTH_URL = gql`\r\n\tquery AuthUrl {\r\n\t\tauthUrl\r\n\t}\r\n`;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const USER = gql`\r\n\tquery User($id: ID!, $bookingsPage: Int!, $listingsPage: Int!, $limit: Int!) {\r\n\t\tuser(id: $id) {\r\n\t\t\tid\r\n\t\t\tname\r\n\t\t\tavatar\r\n\t\t\tcontact\r\n\t\t\thasWallet\r\n\t\t\tincome\r\n\t\t\tbookings(limit: $limit, page: $bookingsPage) {\r\n\t\t\t\ttotal\r\n\t\t\t\tresult {\r\n\t\t\t\t\tid\r\n\t\t\t\t\tlisting {\r\n\t\t\t\t\t\tid\r\n\t\t\t\t\t\ttitle\r\n\t\t\t\t\t\timage\r\n\t\t\t\t\t\taddress\r\n\t\t\t\t\t\tprice\r\n\t\t\t\t\t\tnumOfSeats\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcheckIn\r\n\t\t\t\t\tcheckOut\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlistings(limit: $limit, page: $listingsPage) {\r\n\t\t\t\ttotal\r\n\t\t\t\tresult {\r\n\t\t\t\t\tid\r\n\t\t\t\t\ttitle\r\n\t\t\t\t\timage\r\n\t\t\t\t\taddress\r\n\t\t\t\t\tprice\r\n\t\t\t\t\tnumOfSeats\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const LISTING = gql`\r\n\tquery Listing($id: ID!, $bookingsPage: Int!, $limit: Int!) {\r\n\t\tlisting(id: $id) {\r\n\t\t\tid\r\n\t\t\ttitle\r\n\t\t\tdescription\r\n\t\t\tguidelines\r\n\t\t\timage\r\n\t\t\thost {\r\n\t\t\t\tid\r\n\t\t\t\tname\r\n\t\t\t\tavatar\r\n\t\t\t\thasWallet\r\n\t\t\t}\r\n\t\t\ttype\r\n\t\t\tenergy\r\n\t\t\tcountry\r\n\t\t\tcity\r\n\t\t\taddress\r\n\t\t\tprice\r\n\t\t\tmilesPerGallon\r\n\t\t\tnumOfSeats\r\n\t\t\tnumOfDoors\r\n\t\t\tbookings(limit: $limit, page: $bookingsPage) {\r\n\t\t\t\ttotal\r\n\t\t\t\tresult {\r\n\t\t\t\t\tid\r\n\t\t\t\t\trenter {\r\n\t\t\t\t\t\tid\r\n\t\t\t\t\t\tname\r\n\t\t\t\t\t\tavatar\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcheckIn\r\n\t\t\t\t\tcheckOut\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbookingsIndex\r\n\t\t}\r\n\t}\r\n`;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Avatar, Divider, Tag, Typography } from 'antd';\r\nimport { EnvironmentOutlined } from '@ant-design/icons';\r\nimport { Listing as ListingData } from '../../../../lib/graphql/queries/Listing/__generated__/Listing';\r\nimport { iconColor } from '../../../../lib/utils';\r\n\r\ninterface Props {\r\n\tlisting: ListingData['listing'];\r\n}\r\n\r\nconst { Paragraph, Title, Text } = Typography;\r\n\r\nexport const ListingDetails = ({ listing }: Props) => {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tdescription,\r\n\t\tguidelines,\r\n\t\timage,\r\n\t\ttype,\r\n\t\tenergy,\r\n\t\taddress,\r\n\t\tcity,\r\n\t\thost,\r\n\t\tnumOfSeats,\r\n\t\tnumOfDoors,\r\n\t} = listing;\r\n\r\n\treturn (\r\n\t\t<div className=\"listing-details\">\r\n\t\t\t<div\r\n\t\t\t\tstyle={{ backgroundImage: `url(${image})` }}\r\n\t\t\t\tclassName=\"listing-details__image\"\r\n\t\t\t/>\r\n\t\t\t<div className=\"listing-details__information\">\r\n\t\t\t\t<Paragraph\r\n\t\t\t\t\ttype=\"secondary\"\r\n\t\t\t\t\tellipsis\r\n\t\t\t\t\tclassName=\"listing-details__city-address\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Link to={`/listings/${city}`}>\r\n\t\t\t\t\t\t<EnvironmentOutlined style={{ color: iconColor }} /> {city}\r\n\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t<Divider type=\"vertical\" />\r\n\t\t\t\t\t{address}\r\n\t\t\t\t</Paragraph>\r\n\t\t\t\t<Title level={3} className=\"listing-details__title\">\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</Title>\r\n\t\t\t</div>\r\n\t\t\t<Divider />\r\n\t\t\t<div className=\"listing-details__section\">\r\n\t\t\t\t<Link to={`/user/${host.id}`}>\r\n\t\t\t\t\t<Avatar src={host.avatar} size={64} />\r\n\t\t\t\t\t<Title level={2} className=\"listing-details__host-name\">\r\n\t\t\t\t\t\t{host.name}\r\n\t\t\t\t\t</Title>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Divider />\r\n\r\n\t\t\t<div className=\"listing-details__section\">\r\n\t\t\t\t<Title level={4}>About this car</Title>\r\n\t\t\t\t<div className=\"listing-details__about-items\">\r\n\t\t\t\t\t<Tag color=\"volcano\">{type}</Tag>\r\n\t\t\t\t\t<Tag color=\"volcano\">{energy}</Tag>\r\n\t\t\t\t\t<Tag color=\"volcano\">{numOfSeats} seats</Tag>\r\n\t\t\t\t\t{numOfDoors && <Tag color=\"volcano\">{numOfDoors} doors</Tag>}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Text strong>Description</Text>\r\n\t\t\t\t\t<Paragraph ellipsis={{ rows: 3, expandable: true }}>\r\n\t\t\t\t\t\t{description}\r\n\t\t\t\t\t</Paragraph>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{guidelines && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Text strong>guidelines</Text>\r\n\t\t\t\t\t\t<Paragraph ellipsis={{ rows: 3, expandable: true }}>\r\n\t\t\t\t\t\t\t{guidelines}\r\n\t\t\t\t\t\t</Paragraph>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { Avatar, Divider, List, Typography } from 'antd';\r\nimport { Listing } from '../../../../lib/graphql/queries/Listing/__generated__/Listing';\r\nimport { Link } from 'react-router-dom';\r\n\r\ninterface Props {\r\n\tlistingBookings: Listing['listing']['bookings'];\r\n\tbookingsPage: number;\r\n\tlimit: number;\r\n\tsetBookingsPage: (page: number) => void;\r\n}\r\n\r\nconst { Text, Title } = Typography;\r\n\r\nexport const ListingBookings = ({\r\n\tlistingBookings,\r\n\tbookingsPage,\r\n\tlimit,\r\n\tsetBookingsPage,\r\n}: Props) => {\r\n\tconst total = listingBookings ? listingBookings.total : null;\r\n\tconst result = listingBookings ? listingBookings.result : null;\r\n\r\n\tconst listingBookingsList = listingBookings && (\r\n\t\t<List\r\n\t\t\tgrid={{\r\n\t\t\t\tgutter: 8,\r\n\t\t\t\txs: 1,\r\n\t\t\t\tsm: 2,\r\n\t\t\t\tlg: 3,\r\n\t\t\t\txl: 3,\r\n\t\t\t}}\r\n\t\t\tdataSource={result ? result : undefined}\r\n\t\t\tlocale={{ emptyText: 'No bookings have been made yet!' }}\r\n\t\t\tpagination={{\r\n\t\t\t\tposition: 'top',\r\n\t\t\t\tcurrent: bookingsPage,\r\n\t\t\t\ttotal: total ? total : undefined,\r\n\t\t\t\tdefaultPageSize: limit,\r\n\t\t\t\thideOnSinglePage: true,\r\n\t\t\t\tshowLessItems: true,\r\n\t\t\t\tonChange: (page: number) => setBookingsPage(page),\r\n\t\t\t}}\r\n\t\t\trenderItem={(listingBooking) => {\r\n\t\t\t\tconst bookingHistory = (\r\n\t\t\t\t\t<div className=\"user-bookings__booking-history\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\tCheck in: <Text strong>{listingBooking.checkIn}</Text>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\tCheck in: <Text strong>{listingBooking.checkOut}</Text>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<List.Item className=\"listing-bookings__item\">\r\n\t\t\t\t\t\t{bookingHistory}\r\n\r\n\t\t\t\t\t\t<Link to={`/user/${listingBooking.renter.id}`}>\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsrc={listingBooking.renter.avatar}\r\n\t\t\t\t\t\t\t\tsize={64}\r\n\t\t\t\t\t\t\t\tshape=\"square\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</List.Item>\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n\r\n\tconst listingBookingsElement = listingBookingsList && (\r\n\t\t<div className=\"listing-bookings\">\r\n\t\t\t<Divider />\r\n\t\t\t<div className=\"listing-bookings__section\">\r\n\t\t\t\t<Title level={4}>Bookings</Title>\r\n\t\t\t</div>\r\n\t\t\t{listingBookingsList}\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn listingBookingsElement;\r\n};\r\n","import React from 'react';\r\nimport { DatePicker, Button, Card, Divider, Typography } from 'antd';\r\nimport moment, { Moment } from 'moment';\r\nimport { displayErrorMessage, formatListingPrice } from '../../../../lib/utils';\r\nimport { Viewer } from '../../../../lib/types';\r\nimport { Listing as ListingData } from '../../../../lib/graphql/queries/Listing/__generated__/Listing';\r\nimport { BookingsIndex } from './types';\r\n\r\ninterface Props {\r\n\tviewer: Viewer;\r\n\tsetViewer: (viewer: Viewer) => void;\r\n\thost: ListingData['listing']['host'];\r\n\tbookingsIndex: ListingData['listing']['bookingsIndex'];\r\n\tprice: number;\r\n\tcheckInDate: Moment | null;\r\n\tcheckOutDate: Moment | null;\r\n\tsetCheckInDate: (checkInDate: Moment | null) => void;\r\n\tsetCheckOutDate: (checkOutDate: Moment | null) => void;\r\n\tsetModalVisible: (modalVisible: boolean) => void;\r\n}\r\n\r\nconst { Paragraph, Title, Text } = Typography;\r\n\r\nexport const ListingCreateBooking = ({\r\n\tviewer,\r\n\tsetViewer,\r\n\thost,\r\n\tbookingsIndex,\r\n\tprice,\r\n\tcheckInDate,\r\n\tcheckOutDate,\r\n\tsetCheckInDate,\r\n\tsetCheckOutDate,\r\n\tsetModalVisible,\r\n}: Props) => {\r\n\tconst bookingsIndexJSON: BookingsIndex = JSON.parse(bookingsIndex);\r\n\r\n\tconst dateIsBooked = (currentDate: Moment) => {\r\n\t\tconst year = moment(currentDate).year();\r\n\t\tconst month = moment(currentDate).month();\r\n\t\tconst day = moment(currentDate).date();\r\n\r\n\t\tif (bookingsIndexJSON[year] && bookingsIndexJSON[year][month]) {\r\n\t\t\treturn Boolean(bookingsIndexJSON[year][month][day]);\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tconst disabledDate = (currentDate?: Moment) => {\r\n\t\tif (currentDate) {\r\n\t\t\tconst dateIsBeforeEndOfDay = currentDate.isBefore(moment().endOf('day'));\r\n\r\n\t\t\treturn dateIsBeforeEndOfDay || dateIsBooked(currentDate);\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tconst verifyAndSetCheckOutDate = (selectedCheckOutDate: Moment | null) => {\r\n\t\tif (checkInDate && selectedCheckOutDate) {\r\n\t\t\tif (moment(selectedCheckOutDate).isBefore(checkInDate, 'days')) {\r\n\t\t\t\treturn displayErrorMessage(\r\n\t\t\t\t\t'Check Out Date must be after Check In Date. Please try again!'\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tlet dateCursor = checkInDate;\r\n\r\n\t\t\twhile (moment(dateCursor).isBefore(selectedCheckOutDate, 'days')) {\r\n\t\t\t\tdateCursor = moment(dateCursor).add(1, 'days');\r\n\r\n\t\t\t\tconst year = moment(dateCursor).year();\r\n\t\t\t\tconst month = moment(dateCursor).month();\r\n\t\t\t\tconst day = moment(dateCursor).date();\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tbookingsIndexJSON[year] &&\r\n\t\t\t\t\tbookingsIndexJSON[year][month] &&\r\n\t\t\t\t\tbookingsIndexJSON[year][month][day]\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn displayErrorMessage(\r\n\t\t\t\t\t\t'You cannot book a period of time that overlaps existing bookings. Please try again!'\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetCheckOutDate(selectedCheckOutDate);\r\n\t};\r\n\r\n\tconst viewerIsHost = viewer.id === host.id;\r\n\tconst checkInInputDisabled = !viewer.id || viewerIsHost || !host.hasWallet;\r\n\tconst checkOutInputDisabled = checkInInputDisabled || !checkInDate;\r\n\tconst buttonDisabled = checkOutInputDisabled || !checkInDate || !checkOutDate;\r\n\r\n\tlet buttonMessage = \"You won't be charged yet\";\r\n\r\n\tif (!viewer.id) {\r\n\t\tbuttonMessage = 'You have to be signed in to book a car!';\r\n\t} else if (viewerIsHost) {\r\n\t\tbuttonMessage = 'You cannot book your own car!';\r\n\t} else if (!host.hasWallet) {\r\n\t\tbuttonMessage =\r\n\t\t\t\"The host has disconnected from Stripe and thus won't be able to receive payments\";\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"listing-booking\">\r\n\t\t\t<Card className=\"listing-booking__card\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Paragraph>\r\n\t\t\t\t\t\t<Title level={2} className=\"listing-booking__card-title\">\r\n\t\t\t\t\t\t\t{formatListingPrice(price)}\r\n\t\t\t\t\t\t\t<span>/day</span>\r\n\t\t\t\t\t\t</Title>\r\n\t\t\t\t\t</Paragraph>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t\t<div className=\"listing-booking__card-date-picker\">\r\n\t\t\t\t\t\t<Paragraph strong>Check In</Paragraph>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tshowToday={false}\r\n\t\t\t\t\t\t\tdisabledDate={disabledDate}\r\n\t\t\t\t\t\t\tformat={'YYYY/MM/DD'}\r\n\t\t\t\t\t\t\tvalue={checkInDate ? checkInDate : undefined}\r\n\t\t\t\t\t\t\tdisabled={checkInInputDisabled}\r\n\t\t\t\t\t\t\tonChange={(dateValue) => setCheckInDate(dateValue)}\r\n\t\t\t\t\t\t\tonOpenChange={() => setCheckOutDate(null)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"listing-booking__card-date-picker\">\r\n\t\t\t\t\t\t<Paragraph strong>Check Out</Paragraph>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tdisabled={checkOutInputDisabled}\r\n\t\t\t\t\t\t\tshowToday={false}\r\n\t\t\t\t\t\t\tdisabledDate={disabledDate}\r\n\t\t\t\t\t\t\tformat={'YYYY/MM/DD'}\r\n\t\t\t\t\t\t\tvalue={checkOutDate ? checkOutDate : undefined}\r\n\t\t\t\t\t\t\tonChange={(dateValue) => verifyAndSetCheckOutDate(dateValue)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<Button\r\n\t\t\t\t\tdisabled={buttonDisabled}\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tclassName=\"listing-booking__card-cta\"\r\n\t\t\t\t\tonClick={() => setModalVisible(true)}\r\n\t\t\t\t>\r\n\t\t\t\t\tRequest to book!\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Text type=\"secondary\" mark>\r\n\t\t\t\t\t{buttonMessage}\r\n\t\t\t\t</Text>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport moment, { Moment } from 'moment';\r\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\r\nimport { Modal, Button, Divider, Typography } from 'antd';\r\nimport { CarOutlined } from '@ant-design/icons';\r\nimport {\r\n\tdisplayErrorMessage,\r\n\tdisplaySuccessNotification,\r\n\tformatListingPrice,\r\n} from '../../../../lib/utils';\r\nimport { StripeCardElement } from '@stripe/stripe-js';\r\nimport { CREATE_BOOKING } from '../../../../lib/graphql/mutations';\r\nimport {\r\n\tCreateBooking as CreateBookingData,\r\n\tCreateBookingVariables,\r\n} from '../../../../lib/graphql/mutations/CreateBooking/__generated__/CreateBooking';\r\n\r\ninterface Props {\r\n\tid: string;\r\n\tprice: number;\r\n\tcheckInDate: Moment;\r\n\tcheckOutDate: Moment;\r\n\tmodalVisible: boolean;\r\n\tsetModalVisible: (modalVisible: boolean) => void;\r\n\tclearBookingData: () => void;\r\n\thandleListingRefetch: () => Promise<void>;\r\n}\r\n\r\nconst { Paragraph, Text, Title } = Typography;\r\n\r\nexport const ListingCreateBookingModal = ({\r\n\tid,\r\n\tprice,\r\n\tcheckInDate,\r\n\tcheckOutDate,\r\n\tmodalVisible,\r\n\tsetModalVisible,\r\n\tclearBookingData,\r\n\thandleListingRefetch,\r\n}: Props) => {\r\n\tconst stripe = useStripe();\r\n\tconst elements = useElements();\r\n\r\n\tconst [createBooking, { loading }] = useMutation<\r\n\t\tCreateBookingData,\r\n\t\tCreateBookingVariables\r\n\t>(CREATE_BOOKING, {\r\n\t\tonCompleted: () => {\r\n\t\t\tclearBookingData();\r\n\t\t\tdisplaySuccessNotification(\r\n\t\t\t\t\"Your've successfully booked the car! Enjoy your trip!\",\r\n\t\t\t\t'Booking history can always be found in your User page.'\r\n\t\t\t);\r\n\t\t\thandleListingRefetch();\r\n\t\t},\r\n\t\tonError: () => {\r\n\t\t\tdisplayErrorMessage(\r\n\t\t\t\t\"Sorry! We weren't able to book the car. Please try again later!\"\r\n\t\t\t);\r\n\t\t},\r\n\t});\r\n\r\n\tconst daysBooked = checkOutDate.diff(checkInDate, 'days') + 1;\r\n\tconst listingPrice = price * daysBooked;\r\n\tconst companyFee = 0.05 * listingPrice;\r\n\tconst totalPrice = listingPrice + companyFee;\r\n\r\n\tconst handleCreateBooking = async () => {\r\n\t\tif (!stripe || !elements) {\r\n\t\t\treturn displayErrorMessage(\r\n\t\t\t\t\"Sorry! We weren't able to connect with Stripe!\"\r\n\t\t\t);\r\n\t\t}\r\n\t\tconst cardElement = elements.getElement(CardElement);\r\n\r\n\t\tlet { token: stripeToken, error } = await stripe.createToken(\r\n\t\t\tcardElement as StripeCardElement\r\n\t\t);\r\n\r\n\t\tif (stripeToken) {\r\n\t\t\tcreateBooking({\r\n\t\t\t\tvariables: {\r\n\t\t\t\t\tinput: {\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tsource: stripeToken.id,\r\n\t\t\t\t\t\tcheckIn: moment(checkInDate).format('YYYY-MM-DD'),\r\n\t\t\t\t\t\tcheckOut: moment(checkOutDate).format('YYYY-MM-DD'),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tdisplayErrorMessage(\r\n\t\t\t\terror && error.message\r\n\t\t\t\t\t? error.message\r\n\t\t\t\t\t: \"Sorry! We weren't able to book the car. Please try again later!\"\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tvisible={modalVisible}\r\n\t\t\tcentered\r\n\t\t\tfooter={null}\r\n\t\t\tonCancel={() => setModalVisible(false)}\r\n\t\t>\r\n\t\t\t<div className=\"listing-booking-modal\">\r\n\t\t\t\t<div className=\"listing-booking-modal__title\">\r\n\t\t\t\t\t<Title className=\"listing-booking-modal__intro-title\">\r\n\t\t\t\t\t\t{/* <CheckOutlined /> */}\r\n\t\t\t\t\t\t<CarOutlined />\r\n\t\t\t\t\t</Title>\r\n\t\t\t\t\t<Title className=\"listing-booking-modal__intro-title\" level={3}>\r\n\t\t\t\t\t\tBook your car\r\n\t\t\t\t\t</Title>\r\n\t\t\t\t\t<Paragraph>\r\n\t\t\t\t\t\tEnter your payment information to book the listing from the dates\r\n\t\t\t\t\t\tbetween{' '}\r\n\t\t\t\t\t\t<Text mark strong>\r\n\t\t\t\t\t\t\t{moment(checkInDate).format('MMMM Do YYYY')}\r\n\t\t\t\t\t\t</Text>{' '}\r\n\t\t\t\t\t\tand{' '}\r\n\t\t\t\t\t\t<Text mark strong>\r\n\t\t\t\t\t\t\t{moment(checkOutDate).format('MMMM Do YYYY')}\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t, inclusive.\r\n\t\t\t\t\t</Paragraph>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Divider />\r\n\r\n\t\t\t\t<div className=\"listing-booking-modal__charge-summary\">\r\n\t\t\t\t\t<Paragraph className=\"listing-booking-modal__charge-summary-total\">\r\n\t\t\t\t\t\t{formatListingPrice(price, false)} * {daysBooked} days ={' '}\r\n\t\t\t\t\t\t<Text strong>{formatListingPrice(listingPrice, false)}</Text>\r\n\t\t\t\t\t</Paragraph>\r\n\r\n\t\t\t\t\t{/* <Paragraph>\r\n\t\t\t\t\t\tFlaircnc Fee <sub> ~5%</sub> ={' '}\r\n\t\t\t\t\t\t<Text strong>{formatListingPrice(companyFee)}</Text>\r\n\t\t\t\t\t</Paragraph> */}\r\n\t\t\t\t\t<Paragraph>\r\n\t\t\t\t\t\tTotal = <Text mark>{formatListingPrice(listingPrice, false)}</Text>\r\n\t\t\t\t\t</Paragraph>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Divider />\r\n\r\n\t\t\t\t<div className=\"listing-booking-modal__stripe-card-section\">\r\n\t\t\t\t\t<CardElement\r\n\t\t\t\t\t\toptions={{ hidePostalCode: true }}\r\n\t\t\t\t\t\tclassName=\"listing-booking-modal__stripe-card\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tclassName=\"listing-booking-modal__cta\"\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tonClick={handleCreateBooking}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tBook\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n","import React, { useState } from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/react-hooks';\r\nimport { Moment } from 'moment';\r\nimport { Col, Row, Layout } from 'antd';\r\nimport { LISTING } from '../../lib/graphql/queries';\r\nimport {\r\n\tListing as ListingData,\r\n\tListingVariables,\r\n} from '../../lib/graphql/queries/Listing/__generated__/Listing';\r\nimport { ErrorBanner, PageSkeleton } from '../../lib/components';\r\nimport {\r\n\tListingBookings,\r\n\tListingCreateBooking,\r\n\tListingCreateBookingModal,\r\n\tListingDetails,\r\n} from './components';\r\nimport { Viewer } from '../../lib/types';\r\n\r\ninterface MatchParams {\r\n\tid: string;\r\n}\r\n\r\ninterface Props {\r\n\tviewer: Viewer;\r\n\tsetViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nconst PAGE_LIMIT = 3;\r\nconst { Content } = Layout;\r\n\r\nexport const Listing = ({\r\n\tmatch,\r\n\tviewer,\r\n\tsetViewer,\r\n}: RouteComponentProps<MatchParams> & Props) => {\r\n\tconst [bookingsPage, setBookingsPage] = useState(1);\r\n\tconst [checkInDate, setCheckInDate] = useState<Moment | null>(null);\r\n\tconst [checkOutDate, setCheckOutDate] = useState<Moment | null>(null);\r\n\tconst [modalVisible, setModalVisible] = useState(false);\r\n\r\n\tconst { data, loading, error, refetch } = useQuery<\r\n\t\tListingData,\r\n\t\tListingVariables\r\n\t>(LISTING, {\r\n\t\tvariables: {\r\n\t\t\tid: match.params.id,\r\n\t\t\tbookingsPage,\r\n\t\t\tlimit: PAGE_LIMIT,\r\n\t\t},\r\n\t});\r\n\r\n\tconst clearBookingData = () => {\r\n\t\tsetModalVisible(false);\r\n\t\tsetCheckInDate(null);\r\n\t\tsetCheckOutDate(null);\r\n\t};\r\n\r\n\tconst handleListingRefetch = async () => {\r\n\t\tawait refetch();\r\n\t};\r\n\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<Content className=\"listings\">\r\n\t\t\t\t<PageSkeleton />\r\n\t\t\t</Content>\r\n\t\t);\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn (\r\n\t\t\t<Content>\r\n\t\t\t\t<ErrorBanner description=\"This listing may not exist or we've encountered an error. Please try again!\" />\r\n\t\t\t\t<PageSkeleton />\r\n\t\t\t</Content>\r\n\t\t);\r\n\t}\r\n\r\n\tconst listing = data ? data.listing : null;\r\n\tconst listingBookings = listing ? listing.bookings : null;\r\n\r\n\tconst listingDetailsElement = listing ? (\r\n\t\t<ListingDetails listing={listing} />\r\n\t) : null;\r\n\r\n\tconst listingBookingsElement = listingBookings ? (\r\n\t\t<ListingBookings\r\n\t\t\tlistingBookings={listingBookings}\r\n\t\t\tbookingsPage={bookingsPage}\r\n\t\t\tlimit={PAGE_LIMIT}\r\n\t\t\tsetBookingsPage={setBookingsPage}\r\n\t\t/>\r\n\t) : null;\r\n\r\n\tconst listingCreateBooking = listing ? (\r\n\t\t<ListingCreateBooking\r\n\t\t\tviewer={viewer}\r\n\t\t\tsetViewer={setViewer}\r\n\t\t\thost={listing.host}\r\n\t\t\tprice={listing.price}\r\n\t\t\tcheckInDate={checkInDate}\r\n\t\t\tsetCheckInDate={setCheckInDate}\r\n\t\t\tcheckOutDate={checkOutDate}\r\n\t\t\tsetCheckOutDate={setCheckOutDate}\r\n\t\t\tbookingsIndex={listing.bookingsIndex}\r\n\t\t\tsetModalVisible={setModalVisible}\r\n\t\t/>\r\n\t) : null;\r\n\r\n\tconst listingCreateBookingModalElement = listing &&\r\n\t\tcheckInDate &&\r\n\t\tcheckOutDate && (\r\n\t\t\t<ListingCreateBookingModal\r\n\t\t\t\tid={listing.id}\r\n\t\t\t\tprice={listing.price}\r\n\t\t\t\tcheckInDate={checkInDate}\r\n\t\t\t\tcheckOutDate={checkOutDate}\r\n\t\t\t\tmodalVisible={modalVisible}\r\n\t\t\t\tsetModalVisible={setModalVisible}\r\n\t\t\t\tclearBookingData={clearBookingData}\r\n\t\t\t\thandleListingRefetch={handleListingRefetch}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<Content className=\"listings\">\r\n\t\t\t<Row gutter={24} justify=\"space-between\">\r\n\t\t\t\t<Col xs={24} lg={16}>\r\n\t\t\t\t\t{listingDetailsElement}\r\n\t\t\t\t\t{listingBookingsElement}\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col xs={24} lg={8}>\r\n\t\t\t\t\t{listingCreateBooking}\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t\t{listingCreateBookingModalElement}\r\n\t\t</Content>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { Select } from 'antd';\r\nimport { ListingsFilter } from '../../../../lib/graphql/globalTypes';\r\n\r\ninterface Props {\r\n\tfilter: ListingsFilter;\r\n\tsetFilter: (filter: ListingsFilter) => void;\r\n}\r\n\r\nconst { Option } = Select;\r\n\r\nexport const ListingsFilters = ({ filter, setFilter }: Props) => {\r\n\treturn (\r\n\t\t<div className=\"listings-filters\">\r\n\t\t\t<span>Filter By</span>\r\n\t\t\t<Select\r\n\t\t\t\tvalue={filter}\r\n\t\t\t\tonChange={(filter: ListingsFilter) => setFilter(filter)}\r\n\t\t\t>\r\n\t\t\t\t<Option value={ListingsFilter.PRICE_LOW_TO_HIGH}>\r\n\t\t\t\t\tPrice: Low To High\r\n\t\t\t\t</Option>\r\n\t\t\t\t<Option value={ListingsFilter.PRICE_HIGH_TO_LOW}>\r\n\t\t\t\t\tPrice: High To Low\r\n\t\t\t\t</Option>\r\n\t\t\t</Select>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { Pagination } from 'antd';\r\n\r\ninterface Props {\r\n\ttotal: number;\r\n\tpage: number;\r\n\tlimit: number;\r\n\tsetPage: (page: number) => void;\r\n}\r\n\r\nexport const ListingsPagination = ({ total, page, limit, setPage }: Props) => {\r\n\treturn (\r\n\t\t<Pagination\r\n\t\t\tcurrent={page}\r\n\t\t\ttotal={total}\r\n\t\t\tdefaultPageSize={limit}\r\n\t\t\thideOnSinglePage\r\n\t\t\tshowLessItems\r\n\t\t\tonChange={(page: number) => setPage(page)}\r\n\t\t\tclassName=\"listings-pagination\"\r\n\t\t/>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { List, Card, Skeleton } from 'antd';\r\n\r\nimport listingLoadingCardCover from '../../assets/listing-loading-card-cover.jpg';\r\n\r\nexport const ListingsSkeleton = () => {\r\n\tconst emptyData = [{}, {}, {}, {}, {}, {}];\r\n\treturn (\r\n\t\t<div className=\"listings-skeleton\">\r\n\t\t\t<Skeleton paragraph={{ rows: 1 }} />\r\n\t\t\t<List\r\n\t\t\t\tgrid={{\r\n\t\t\t\t\tgutter: 8,\r\n\t\t\t\t\txs: 1,\r\n\t\t\t\t\tsm: 2,\r\n\t\t\t\t\tlg: 3,\r\n\t\t\t\t\txl: 3,\r\n\t\t\t\t}}\r\n\t\t\t\tdataSource={emptyData}\r\n\t\t\t\trenderItem={() => (\r\n\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"listings-skeleton__card-cover-img\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundImage: `url(${listingLoadingCardCover})` }}\r\n\t\t\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tloading\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</List.Item>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAoEAAAGsCAYAAACiiX3NAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAABcgSURBVHgB7daxDYAwEARBm9yI/qtEUIARdex8BzuX/BiOAAECBAgQIEAgJzD/4vt5d65cMAECBAgQIEAgKnCdax7RdtkECBAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAAECBAgQIECAAAECBFoCH+giB1TBDI5HAAAAAElFTkSuQmCC\"","import React, { useRef, useEffect, useState } from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/react-hooks';\r\nimport { Affix, Layout, List, Typography } from 'antd';\r\nimport { ErrorBanner, ListingCard } from '../../lib/components';\r\nimport { LISTINGS } from '../../lib/graphql/queries';\r\nimport {\r\n\tListings as ListingsData,\r\n\tListingsVariables,\r\n} from '../../lib/graphql/queries/Listings/__generated__/Listings';\r\nimport { ListingsFilter } from '../../lib/graphql/globalTypes';\r\nimport {\r\n\tListingsFilters,\r\n\tListingsPagination,\r\n\tListingsSkeleton,\r\n} from './components';\r\n\r\ninterface MatchParams {\r\n\tlocation: string;\r\n}\r\n\r\nconst { Content } = Layout;\r\nconst { Text, Title, Paragraph } = Typography;\r\nconst PAGE_LIMIT = 6;\r\n\r\nexport const Listings = ({ match }: RouteComponentProps<MatchParams>) => {\r\n\tconst locationRef = useRef(match.params.location);\r\n\tconst [filter, setFilter] = useState(ListingsFilter.PRICE_LOW_TO_HIGH);\r\n\tconst [page, setPage] = useState(1);\r\n\r\n\tconst { data, loading, error } = useQuery<ListingsData, ListingsVariables>(\r\n\t\tLISTINGS,\r\n\t\t{\r\n\t\t\tskip: locationRef.current !== match.params.location && page !== 1,\r\n\t\t\tvariables: {\r\n\t\t\t\tlocation: match.params.location,\r\n\t\t\t\tfilter,\r\n\t\t\t\tlimit: PAGE_LIMIT,\r\n\t\t\t\tpage,\r\n\t\t\t},\r\n\t\t}\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetPage(1);\r\n\t\tlocationRef.current = match.params.location;\r\n\t}, [match.params.location]);\r\n\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<Content className=\"listings\">\r\n\t\t\t\t<ListingsSkeleton />\r\n\t\t\t</Content>\r\n\t\t);\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn (\r\n\t\t\t<Content className=\"listings\">\r\n\t\t\t\t<ErrorBanner description=\"We either couldn't find anything matching your search or have encountered an error. If you're searching for a unique location, try searching again with more common keywords.\" />\r\n\t\t\t\t<ListingsSkeleton />\r\n\t\t\t</Content>\r\n\t\t);\r\n\t}\r\n\r\n\tconst listings = data ? data.listings : null;\r\n\tconst listingsRegion = listings ? listings.region : null;\r\n\r\n\tconst listingsSectionElement =\r\n\t\tlistings && listings.result.length ? (\r\n\t\t\t<div>\r\n\t\t\t\t<Affix offsetTop={64}>\r\n\t\t\t\t\t<ListingsPagination\r\n\t\t\t\t\t\ttotal={listings.total}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tlimit={PAGE_LIMIT}\r\n\t\t\t\t\t\tsetPage={setPage}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ListingsFilters filter={filter} setFilter={setFilter} />\r\n\t\t\t\t</Affix>\r\n\t\t\t\t<List\r\n\t\t\t\t\tgrid={{\r\n\t\t\t\t\t\tgutter: 8,\r\n\t\t\t\t\t\txs: 1,\r\n\t\t\t\t\t\tsm: 2,\r\n\t\t\t\t\t\tlg: 3,\r\n\t\t\t\t\t\txl: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdataSource={listings.result}\r\n\t\t\t\t\trenderItem={(listing) => (\r\n\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t<ListingCard listing={listing} />\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t) : (\r\n\t\t\t<div>\r\n\t\t\t\t<Paragraph>\r\n\t\t\t\t\tNo listing is found for <Text mark>{listingsRegion}</Text>\r\n\t\t\t\t</Paragraph>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\tconst listingsRegionElement = listingsRegion ? (\r\n\t\t<Title level={3} className=\"listings__title\">\r\n\t\t\tResults for \"{listingsRegion}\"\r\n\t\t</Title>\r\n\t) : null;\r\n\r\n\treturn (\r\n\t\t<Content className=\"listings\">\r\n\t\t\t{listingsRegionElement}\r\n\t\t\t{listingsSectionElement}\r\n\t\t</Content>\r\n\t);\r\n};\r\n","import React from 'react';\r\n\r\nexport const NotFound = () => {\r\n\treturn <div>Not Found</div>;\r\n};\r\n","import React from 'react';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { Avatar, Button, Card, Divider, Typography, Tag } from 'antd';\r\nimport { DISCONNECT_STRIPE } from '../../../../lib/graphql/mutations';\r\nimport { DisconnectStripe as DisconnectStripeData } from '../../../../lib/graphql/mutations/DisconnectStripe/__generated__/DisconnectStripe';\r\nimport { User as UserData } from '../../../../lib/graphql/queries/User/__generated__/User';\r\nimport {\r\n\tdisplayErrorMessage,\r\n\tdisplaySuccessNotification,\r\n\tformatListingPrice,\r\n} from '../../../../lib/utils';\r\nimport { Viewer } from '../../../../lib/types';\r\n\r\ninterface Props {\r\n\tuser: UserData['user'];\r\n\tviewer: Viewer;\r\n\tsetViewer: (viewer: Viewer) => void;\r\n\thandleUserRefetch: () => Promise<void>;\r\n\tviewerIsUser: boolean;\r\n}\r\n\r\nconst stripeAuthUrl = `https://connect.stripe.com/oauth/authorize?response_type=code&client_id=${process.env.REACT_APP_STRIPE_CLIENT_ID}&scope=read_write`;\r\n\r\nconst { Paragraph, Text, Title } = Typography;\r\n\r\nexport const UserProfile = ({\r\n\tuser,\r\n\tviewerIsUser,\r\n\tviewer,\r\n\tsetViewer,\r\n\thandleUserRefetch,\r\n}: Props) => {\r\n\tconst [disconnectStripe, { loading }] = useMutation<DisconnectStripeData>(\r\n\t\tDISCONNECT_STRIPE,\r\n\t\t{\r\n\t\t\tonCompleted: (data) => {\r\n\t\t\t\tif (data && data.disconnectStripe) {\r\n\t\t\t\t\tsetViewer({ ...viewer, hasWallet: data.disconnectStripe.hasWallet });\r\n\t\t\t\t\tdisplaySuccessNotification(\r\n\t\t\t\t\t\t\"You've successfully disconnected from Stripe!\",\r\n\t\t\t\t\t\t\"You'll have to reconnect with Stripe to continue to create listings.\"\r\n\t\t\t\t\t);\r\n\t\t\t\t\thandleUserRefetch();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonError: () => {\r\n\t\t\t\tdisplayErrorMessage(\r\n\t\t\t\t\t\"Sorry!We weren't able to disconnect you from Stripe. Please try again later!\"\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t}\r\n\t);\r\n\r\n\tconst redirectToStripe = () => {\r\n\t\twindow.location.href = stripeAuthUrl;\r\n\t};\r\n\r\n\tconst additionalDetails = user.hasWallet ? (\r\n\t\t<>\r\n\t\t\t<Paragraph>\r\n\t\t\t\t<Tag color=\"green\">Stripe Registered!</Tag>\r\n\t\t\t</Paragraph>\r\n\t\t\t<Paragraph>\r\n\t\t\t\tIncome Earned:\r\n\t\t\t\t<Text strong>\r\n\t\t\t\t\t{user.income ? formatListingPrice(user.income) : '$0'}\r\n\t\t\t\t</Text>\r\n\t\t\t</Paragraph>\r\n\t\t\t<Button\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tclassName=\"user-profile__details-cta\"\r\n\t\t\t\tloading={loading}\r\n\t\t\t\tonClick={() => disconnectStripe()}\r\n\t\t\t>\r\n\t\t\t\tDisconnect Stripe\r\n\t\t\t</Button>\r\n\t\t\t<Paragraph type=\"secondary\">\r\n\t\t\t\tBy disconnecting, you won't be able to receive{' '}\r\n\t\t\t\t<Text strong>any further payments</Text>. This will prevent users from\r\n\t\t\t\tbooking listings that you might have already created.\r\n\t\t\t</Paragraph>\r\n\t\t</>\r\n\t) : (\r\n\t\t<>\r\n\t\t\t<Paragraph>\r\n\t\t\t\tInterested in becoming a host? Register with your Stripe accout!\r\n\t\t\t</Paragraph>\r\n\t\t\t<Button\r\n\t\t\t\tonClick={redirectToStripe}\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tclassName=\"user-profile__details-cta\"\r\n\t\t\t>\r\n\t\t\t\tConnect with Stripe\r\n\t\t\t</Button>\r\n\t\t\t<Paragraph type=\"secondary\">\r\n\t\t\t\tWe use{' '}\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"https://stripe.com/en-US/connect\"\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t>\r\n\t\t\t\t\tStripe\r\n\t\t\t\t</a>{' '}\r\n\t\t\t\tto help transfer your earnings in a secure and trusted manner.\r\n\t\t\t</Paragraph>\r\n\t\t</>\r\n\t);\r\n\r\n\tconst additionalDetailsSection = viewerIsUser ? (\r\n\t\t<>\r\n\t\t\t<Divider />\r\n\t\t\t<div className=\"user-profile__details\">\r\n\t\t\t\t<Title level={4}>Additional Details</Title>\r\n\t\t\t\t{additionalDetails}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t) : null;\r\n\r\n\treturn (\r\n\t\t<div className=\"user-profile\">\r\n\t\t\t<Card className=\"user-profile__card\">\r\n\t\t\t\t<div className=\"user-profile__avatar\">\r\n\t\t\t\t\t<Avatar src={user.avatar} size={100} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<div className=\"user-profile__details\">\r\n\t\t\t\t\t<Title level={4}>Details</Title>\r\n\t\t\t\t\t<Paragraph>\r\n\t\t\t\t\t\tName: <Text strong>{user.name}</Text>\r\n\t\t\t\t\t</Paragraph>\r\n\t\t\t\t\t<Paragraph>\r\n\t\t\t\t\t\tContact: <Text strong>{user.contact}</Text>\r\n\t\t\t\t\t</Paragraph>\r\n\t\t\t\t</div>\r\n\t\t\t\t{additionalDetailsSection}\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { List, Typography } from 'antd';\r\nimport { ListingCard } from '../../../../lib/components';\r\nimport { User } from '../../../../lib/graphql/queries/User/__generated__/User';\r\n\r\ninterface Props {\r\n\tuserBookings: User['user']['bookings'];\r\n\tbookingsPage: number;\r\n\tlimit: number;\r\n\tsetBookingsPage: (page: number) => void;\r\n}\r\n\r\nconst { Paragraph, Text, Title } = Typography;\r\n\r\nexport const UserBookings = ({\r\n\tuserBookings,\r\n\tbookingsPage,\r\n\tlimit,\r\n\tsetBookingsPage,\r\n}: Props) => {\r\n\tconst total = userBookings ? userBookings.total : null;\r\n\tconst result = userBookings ? userBookings.result : null;\r\n\r\n\tconst userBookingsList = userBookings && (\r\n\t\t<List\r\n\t\t\tgrid={{\r\n\t\t\t\tgutter: 8,\r\n\t\t\t\txs: 1,\r\n\t\t\t\tsm: 2,\r\n\t\t\t\tlg: 3,\r\n\t\t\t\txl: 3,\r\n\t\t\t}}\r\n\t\t\tdataSource={result ? result : undefined}\r\n\t\t\tlocale={{ emptyText: \"You haven't had any bookings yet!\" }}\r\n\t\t\tpagination={{\r\n\t\t\t\tposition: 'top',\r\n\t\t\t\tcurrent: bookingsPage,\r\n\t\t\t\ttotal: total ? total : undefined,\r\n\t\t\t\tdefaultPageSize: limit,\r\n\t\t\t\thideOnSinglePage: true,\r\n\t\t\t\tshowLessItems: true,\r\n\t\t\t\tonChange: (page: number) => setBookingsPage(page),\r\n\t\t\t}}\r\n\t\t\trenderItem={(userBooking) => {\r\n\t\t\t\tconst bookingHistory = (\r\n\t\t\t\t\t<div className=\"user-bookings__booking-history\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\tCheck in: <Text strong>{userBooking.checkIn}</Text>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\tCheck out: <Text strong>{userBooking.checkOut}</Text>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t{bookingHistory}\r\n\t\t\t\t\t\t<ListingCard listing={userBooking.listing} />\r\n\t\t\t\t\t</List.Item>\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n\r\n\tconst userBookingsElement = userBookingsList ? (\r\n\t\t<div className=\"user-bookings\">\r\n\t\t\t<Title level={4} className=\"user-bookings__title\">\r\n\t\t\t\tBookings\r\n\t\t\t</Title>\r\n\t\t\t<Paragraph className=\"user-bookings__paragraph\">\r\n\t\t\t\tThis section highlights the listings this user has made available for\r\n\t\t\t\tbookings.\r\n\t\t\t</Paragraph>\r\n\t\t\t{userBookingsList}\r\n\t\t</div>\r\n\t) : null;\r\n\r\n\treturn userBookingsElement;\r\n};\r\n","import React from 'react';\r\nimport { List, Typography } from 'antd';\r\nimport { ListingCard } from '../../../../lib/components';\r\nimport { User } from '../../../../lib/graphql/queries/User/__generated__/User';\r\n\r\ninterface Props {\r\n\tuserListings: User['user']['listings'];\r\n\tlistingsPage: number;\r\n\tlimit: number;\r\n\tsetListingsPage: (page: number) => void;\r\n}\r\n\r\nconst { Paragraph, Title } = Typography;\r\n\r\nexport const UserListings = ({\r\n\tuserListings,\r\n\tlistingsPage,\r\n\tlimit,\r\n\tsetListingsPage,\r\n}: Props) => {\r\n\tconst { total, result } = userListings;\r\n\r\n\tconst userListingsList = (\r\n\t\t<List\r\n\t\t\tgrid={{\r\n\t\t\t\tgutter: 8,\r\n\t\t\t\txs: 1,\r\n\t\t\t\tsm: 2,\r\n\t\t\t\tlg: 3,\r\n\t\t\t\txl: 3,\r\n\t\t\t}}\r\n\t\t\tdataSource={result}\r\n\t\t\tlocale={{ emptyText: \"User doesn't have any listings yet!\" }}\r\n\t\t\tpagination={{\r\n\t\t\t\tposition: 'top',\r\n\t\t\t\tcurrent: listingsPage,\r\n\t\t\t\ttotal,\r\n\t\t\t\tdefaultPageSize: limit,\r\n\t\t\t\thideOnSinglePage: true,\r\n\t\t\t\tshowLessItems: true,\r\n\t\t\t\tonChange: (page: number) => setListingsPage(page),\r\n\t\t\t}}\r\n\t\t\trenderItem={(userListing) => (\r\n\t\t\t\t<List.Item>\r\n\t\t\t\t\t<ListingCard listing={userListing} />\r\n\t\t\t\t</List.Item>\r\n\t\t\t)}\r\n\t\t/>\r\n\t);\r\n\treturn (\r\n\t\t<div className=\"user-listings\">\r\n\t\t\t<Title level={4} className=\"user-listings__title\">\r\n\t\t\t\tListings\r\n\t\t\t</Title>\r\n\t\t\t<Paragraph className=\"user-listings__description\">\r\n\t\t\t\tThis section highlights the listings this user has made available for\r\n\t\t\t\tbookings.\r\n\t\t\t</Paragraph>\r\n\t\t\t{userListingsList}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, { useState } from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/react-hooks';\r\nimport { Col, Layout, Row } from 'antd';\r\nimport { USER } from '../../lib/graphql/queries';\r\nimport {\r\n\tUser as UserData,\r\n\tUserVariables,\r\n} from '../../lib/graphql/queries/User/__generated__/User';\r\nimport { UserBookings, UserListings, UserProfile } from './components';\r\nimport { Viewer } from '../../lib/types';\r\nimport { ErrorBanner, PageSkeleton } from '../../lib/components';\r\n\r\ninterface MatchParams {\r\n\tid: string;\r\n}\r\n\r\ninterface Props {\r\n\tviewer: Viewer;\r\n\tsetViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nconst { Content } = Layout;\r\nconst PAGE_LIMIT = 3;\r\n\r\nexport const User = ({\r\n\tviewer,\r\n\tsetViewer,\r\n\tmatch,\r\n}: Props & RouteComponentProps<MatchParams>) => {\r\n\tconst [bookingsPage, setBookingsPage] = useState(1);\r\n\tconst [listingsPage, setListingsPage] = useState(1);\r\n\r\n\tconst { data, loading, error, refetch } = useQuery<UserData, UserVariables>(\r\n\t\tUSER,\r\n\t\t{\r\n\t\t\tvariables: {\r\n\t\t\t\tid: match.params.id,\r\n\t\t\t\tbookingsPage,\r\n\t\t\t\tlistingsPage,\r\n\t\t\t\tlimit: PAGE_LIMIT,\r\n\t\t\t},\r\n\t\t}\r\n\t);\r\n\r\n\tconst handleUserRefetch = async () => {\r\n\t\tawait refetch();\r\n\t};\r\n\r\n\tconst stripeError = new URL(window.location.href).searchParams.get(\r\n\t\t'stripe_error'\r\n\t);\r\n\tconst stripeErrorBanner = stripeError ? (\r\n\t\t<ErrorBanner description=\"We had an issue connecting with Stripe.Please try again soon!\" />\r\n\t) : null;\r\n\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<Content className=\"user\">\r\n\t\t\t\t<PageSkeleton />\r\n\t\t\t</Content>\r\n\t\t);\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn (\r\n\t\t\t<Content className=\"user\">\r\n\t\t\t\t<ErrorBanner description=\"This user may not exist or we've encountered an error.Please try again!\" />\r\n\t\t\t\t<PageSkeleton />\r\n\t\t\t</Content>\r\n\t\t);\r\n\t}\r\n\r\n\tconst user = data ? data.user : null;\r\n\r\n\tconst viewerIsUser = viewer.id === match.params.id;\r\n\r\n\tconst userBookings = user ? user.bookings : null;\r\n\tconst userListings = user ? user.listings : null;\r\n\r\n\tconst userProfileElement = user ? (\r\n\t\t<UserProfile\r\n\t\t\tviewer={viewer}\r\n\t\t\tsetViewer={setViewer}\r\n\t\t\tuser={user}\r\n\t\t\tviewerIsUser={viewerIsUser}\r\n\t\t\thandleUserRefetch={handleUserRefetch}\r\n\t\t/>\r\n\t) : null;\r\n\r\n\tconst userListingsElement = userListings ? (\r\n\t\t<UserListings\r\n\t\t\tuserListings={userListings}\r\n\t\t\tlistingsPage={listingsPage}\r\n\t\t\tlimit={PAGE_LIMIT}\r\n\t\t\tsetListingsPage={setListingsPage}\r\n\t\t/>\r\n\t) : null;\r\n\r\n\tconst userBookingsElement = userBookings ? (\r\n\t\t<UserBookings\r\n\t\t\tuserBookings={userBookings}\r\n\t\t\tbookingsPage={bookingsPage}\r\n\t\t\tlimit={PAGE_LIMIT}\r\n\t\t\tsetBookingsPage={setBookingsPage}\r\n\t\t/>\r\n\t) : null;\r\n\r\n\treturn (\r\n\t\t<Content className=\"user\">\r\n\t\t\t{stripeErrorBanner}\r\n\t\t\t<Row gutter={12} justify=\"space-between\">\r\n\t\t\t\t<Col xs={24}>{userProfileElement}</Col>\r\n\t\t\t\t<Col xs={24}>\r\n\t\t\t\t\t{userListingsElement}\r\n\t\t\t\t\t{userBookingsElement}\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Content>\r\n\t);\r\n};\r\n","import React, { useEffect, useRef } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { useApolloClient, useMutation } from '@apollo/react-hooks';\r\nimport { Card, Typography, Spin, Layout } from 'antd';\r\nimport { AUTH_URL } from '../../lib/graphql/queries';\r\nimport { AuthUrl as AuthUrlData } from '../../lib/graphql/queries/AuthUrl/__generated__/AuthUrl';\r\nimport { LOG_IN } from '../../lib/graphql/mutations';\r\nimport {\r\n\tLogIn as LogInData,\r\n\tLogInVariables,\r\n} from '../../lib/graphql/mutations/LogIn/__generated__/LogIn';\r\nimport { Viewer } from '../../lib/types';\r\nimport googleLogo from './assets/google.png';\r\nimport {\r\n\tdisplayErrorMessage,\r\n\tdisplaySuccessNotification,\r\n} from '../../lib/utils';\r\nimport { ErrorBanner } from '../../lib/components';\r\n\r\ninterface Props {\r\n\tsetViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nconst { Content } = Layout;\r\nconst { Text, Title } = Typography;\r\n\r\nexport const Login = ({ setViewer }: Props) => {\r\n\tconst client = useApolloClient();\r\n\tconst [\r\n\t\tlogIn,\r\n\t\t{ data: logInData, loading: logInLoading, error: logInError },\r\n\t] = useMutation<LogInData, LogInVariables>(LOG_IN, {\r\n\t\tonCompleted: (data) => {\r\n\t\t\tif (data && data.logIn && data.logIn.token) {\r\n\t\t\t\tsetViewer(data.logIn);\r\n\t\t\t\tsessionStorage.setItem('token', data.logIn.token);\r\n\t\t\t\tdisplaySuccessNotification(\"You've successfully logged in!\");\r\n\t\t\t}\r\n\t\t},\r\n\t});\r\n\r\n\tconst logInRef = useRef(logIn);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst code = new URL(window.location.href).searchParams.get('code');\r\n\r\n\t\tif (code) {\r\n\t\t\tlogInRef.current({\r\n\t\t\t\tvariables: {\r\n\t\t\t\t\tinput: { code },\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst handleAuthorize = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await client.query<AuthUrlData>({\r\n\t\t\t\tquery: AUTH_URL,\r\n\t\t\t});\r\n\t\t\twindow.location.href = data.authUrl;\r\n\t\t\tconsole.log(data);\r\n\t\t} catch (err) {\r\n\t\t\tdisplayErrorMessage(\r\n\t\t\t\t\"Sorry! We weren't able to log you in. Please try again later!\"\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tif (logInLoading) {\r\n\t\treturn (\r\n\t\t\t<Content className=\"log-in\">\r\n\t\t\t\t<Spin size=\"large\" tip=\"Logging you in...\" />\r\n\t\t\t</Content>\r\n\t\t);\r\n\t}\r\n\r\n\tif (logInData && logInData.logIn) {\r\n\t\tconst { id: viewerId } = logInData.logIn;\r\n\t\treturn <Redirect to={`/user/${viewerId}`} />;\r\n\t}\r\n\r\n\tconst logInErrorBannerElement = logInError ? (\r\n\t\t<ErrorBanner description=\"Sorry! We weren't able to log you in. Please try again later!\" />\r\n\t) : null;\r\n\r\n\treturn (\r\n\t\t<Content className=\"log-in\">\r\n\t\t\t{logInErrorBannerElement}\r\n\t\t\t<Card className=\"log-in-card\">\r\n\t\t\t\t<div className=\"log-in-card__intro\">\r\n\t\t\t\t\t<Title level={3} className=\"log-in-card__intro-title\">\r\n\t\t\t\t\t\tLog in to Flaircnc\r\n\t\t\t\t\t</Title>\r\n\t\t\t\t\t<Text>Sign in with Google to start booking available cars</Text>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"log-in-card__google-button\"\r\n\t\t\t\t\tonClick={handleAuthorize}\r\n\t\t\t\t>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={googleLogo}\r\n\t\t\t\t\t\talt=\"Google Logo\"\r\n\t\t\t\t\t\tclassName=\"log-in-card__google-button-logo\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className=\"log-in-card__google-button-text\">\r\n\t\t\t\t\t\tSign In With Google\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</button>\r\n\t\t\t\t<Text type=\"secondary\">\r\n\t\t\t\t\tNote: By signing in, you will be redirected to the Google consent form\r\n\t\t\t\t\tto sign in with your Google account\r\n\t\t\t\t</Text>\r\n\t\t\t</Card>\r\n\t\t</Content>\r\n\t);\r\n};\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAgAElEQVR4Xu19CXhcxZXuOVV1by9abNnyCpg1OJaNjWn2zYLYmSSsyUMMj2yQIWF5CcmQb95MFh4iCWSGZPJC3iQzLCFsGRiLhCwsL2DZwoTdwgtYELANNsTG2Notdfe9VXXmq7q3ZdnaWlK3umXrgj77s+5SVeevs59TCBPXQb0CeFDPfmLycFABgAAY1ADCrmqEzk5sBIBECIKGsjKqntZAUAcEAIRg/zzgrwMKAAQW0OYnIF4NsB4K1oGGREK877oiEmnn6Ctk5ZN75q+SnVp2xvSsZFJCU5MMnw9+X2cBoS2Agg/oAwUZ4x4AhiibjjnGOWbTJs/sWgOCd6uPiMSwfBFT7nxkVKGRDuHID9VEMwChAgHKiTAGCE5ASJIEkGRAXQTYhqR3aYAdiPguKWhHpHe0J1+d8fyGXRnOsCaRcBJljYQNEIBlnF7jDgA9bNzsaADckUhEnZg8FBlfoDlcisBOjnFW6RFFJJFgiHb3mnsNOIIfwn0ZfMA0EM2v7Q4PdjwRakTGALSLmNZEnZ7Wm4HoYUR4IUK4tayhsbkX18Hxxh3GDQAse6+u5tDQoKCqytk+1f1kJOJ8Vms9L8b4fGSAKUWggXwyFEbkQMQMVXtPcijBvv+CEBFBABeFgObVToQxdBBpj5QfCmTrtNTPeAh3zWpobAkZgfmmGg9MoagBkJG5Znu2Lk2U+4pOZUBXlgjnohSRowkUAXAIZXOoA+R93TNiwIADASUhiHLBVafnb2RA/55S3pOzV7/+fjgQVsxgKEoA9NrtescZiUNFVH8ftTjL4XCEIgRFJAGIIyLL7GgyLLwARo0VHoZLAEhAFHHGoFspwwkala9uncknPWcsDmxs9POOzBF8oKgAEO5gs6NV65ITzlQcbogJcUHSMHUrvVFYlS1D9SIavRlSjwlCpMyujwrmpKV+XZGunU7lf7DiqwYY1hWPeCiKJewx36qB7XQXfjQqow95qD/CAF0NZBQ4Hizv+LoMCAiIcQDNgW8l0XnDZOb9fyjdJKEOdDH4Ggq+qlQNwphSH1YffzxyUVvG+YUdSqWBIGL0t6GUtnEBCcu8KF2CTiRJ3ouK8HvTV655cmNVlTu/qckr5BwKBoCMgtdWfXy5h/wWh/ErNZCrA1G+14FTyNXJ8bfRcDMDBsYkpb2nJOCXZj671piRBXMuFQQAoeaudy458TLO6UeC8dlSa2VkfM+Oty6dggwvx2Tv/bpAU0AijQyN7tgJSn2rsmHtHcaSKYS1MKYrnDHTNi9cOK28MnJ7hEGNZ3Y8EBo3TB5XvrheHWqMZuIcQUulngZKXTmtoWlnxhE1VgMes0XPKHpty447i1PsIQk0QxrvOuIBye4HJ2DGZghsSOOtdBnu6k75n53x7NpVYxmMGhMAGEWvrgHonHNP/K5AdqNPlvLCmnbjULvP6e7MLAGRjHCGaaVqp61svBWqgY1FnCHvADCU3pGYHYtPO+wx5euzNBGScdNOXH1XgEgJRNCkn2yNtF9yzJNBgCufS5VXABhlr+OEo4/0K6b8FgiOBYTIARNHzRNVjDxkAB4DWJfewy6c8dJLVi/I15U3ABi2/4FafKyIOA2g9VSrA+wbl8nXnMb3e+1+N2FMkNJztsZK3jm99MkPmvMVZcwLAEysfM4kfRoie4IIjUNHBFG1g0jTHyEMzToxBB0hBym+5+vlj732i3wRP7Q4RjjSAR4zO7+ZLToB0H1GE7kHp5Y/wjW10UXQnAQB8766XpX/8pyGhrwmnOSUA5idP3NW5MRot1evAZwgeDOh6Q8FhyC4RcYnQFEQJDF17aQV6+7OtwKYUw5AAGLb35w0t0Tii5p03OoyExx/KNoHvw9SlBQnDoqnr1u1Yt09l45RQklOOIBR8FoTicPkVP4SSqPwoWN3/gQABgVAGNYmgUAOCULRfV3pU+vvGoudnxnYqAFggjo7Fy6MiZnuCyixSqHN0AnTM0f9+ux2ULZ3FVV8gcKdD0qQYJIlr/15/fq7a8c443hUFLKmXQ2w3btPWsEYna6M3A88e6N6b7b0HMZ9RrkKmG2QGBoCNHyD/deefKKedJN8pZgF3wcSaLJOuRYsfVVZ/boHxtIFPGoOkCH+h7tP/ibndCsQcJNGWwymXpDja/4DD43jESgSF9yyprQmndY6DUhtQJAmsokZEQAscziWRBljJg8hqTT4Wps0Lg2IDgL0pJ8NA3j93mpNPZNpDA4qSP2vn61ce+dY7/ycAKD97MQyivLHpNSMAHmh931YvGGopZUGFMhaCPxWjXxVOqUe5cDf0ig7o5x86SeVKgkck8yTKESMdxMX8ZQqSQs1wxGwjIhd7DJ+aFrpKQ7nwtfagMMEMkbuyiYynj7FQZBmyavrV6y/b6wUvv7QOCJWbRZg23Fnlscq028iUgWhUfoKc4W7XSOBH+HMTUnVgoD3afCfc7ion7KisT0zMmOmxpJJrIrFCMrKCKABAKrB/tmZwKZkEpOxGCUaG01OnwUH1QBvaT7pFEnyVIb8c6WCL+qUJneBjNAQVpHLZhUDkW9NPUGCFKSumbJy3T35dPJkQ5Fshr7PezJysfNTJ94vk3C5Ykamjr26H2bjmuAJkxpTnKn1Wqsf7KG2+iMa3vWgupphQ4Op+MkoJcMOqvToAKbELKwnbClJz1Q8+lOGcJZgrNLXZBKVbbLqwFdAfePhY5oTCO9r65+edPc5kF8nT94A0H7unEskznlYU9LAf8ztfWsmEXklnIsupR7STvLH0/+0cYMtDQtzDLOZ/HDvsay/xtYK6uZzF82WxL9YKsRNSWUS2dDtV2ncb+cTS39p8oq1D4ylqTfYPIfFAcwCtNYcVUq7Z6wl9A7XJotpDJPxw13vRzkTntTPKFDfmL5q7QaoBj4WsfPeC5kpUduxK1ERRbwbGF4gTTo4orMPq+lx73LQLH39yvp1dxRS5u8PhqwBkEF36xln/j+Kp65TRkLaBM6sXzHcDbf3/qA8y8gaPypYOp30vjCVT37M5tmHtXwjf/nonjQ6gqke3r30+LPjzP1tl9Rxww0yxQsm20cQ14Spq26vX/dAobT9gWaZNfUMAFoWHVOFMypeURIcY8bal+YdADaOSBFkjDStAPJrJsPkPUa+j450uX3apHhPFcIRle5vOcNlnsl8ASAXOPqUurZy1Xrj2y+6dIisAGCI31Bdzee53XWO1BdoAB6U0Wb1+KhWmgGpCDKdRP/GbS3sJ7019FG9OA8PW7GQSPBd5frmqHD+QSskYqlrnl6x/r4aKI5CkBGJAMPmuhurF3tHdr3kGwwzYraAOl85faHLFomkyxh1p9RnZ/658ZFCs/tsMJMRlbuqE/8YdRWWPbXuX4px52fmktUWplUg/K7oytYfHH8qCBIQUbZgOmAAWb0im7XrJfPNX0kzhG7yaMnWbngt0dgoi0VzHmoyva2BYh/zkNSzxCdIcIevhgiItn/7CPNenwp8agrIkGSvDz03WAgqbY3DJJXy/TNnd4nXi7WydiggjIffDwqAQPcG8FfyhznHS8gDxOkK9/zmUOj+w+HAKlNB1DfsoDBqlSCos9YcUSbTXUs6WmBtoWvnxgMRRzPGoQHwX3AUHeq8rlJk7Ftu+mSwyRLk1jJo+eFxwMo9QB76AkeqF4QpMaYWtAQ0dWn8TOWqNY8Vs+wczaIX07NDAkCtZLcjsGs12QCIlf3W/W3gIBi0/ct8kB/EgE3yAIxf2MbMhpQs+8t7EyAhEKiUG7tl+mOrv1+IOrliIsxYjWVASln23wCTlObriHC2IXlmUDbQGrq7+FQFHfceCalnZgOblrTGTqAbZguC0FcqGGErWz3tlReXBf148lsQMVYLXOzfGRgAq0BIBdVMiKdIGSf7XooGeppxApJVBPk0CanGqdD+849a5TBjIQSOwiE4gg2SEHFizeKQrQtKH9hpcuDHRYOlYiduNuPrFwA9yl89v4dz/KJpeDJwoCPIrmFxArXHgbYfHgdkREHEtPEJQwWDMQMibQQLB7h6Sv2aX03I/WzIlrt7+gdArfFoQZQqRLNKGa+fzYjpe4UJVtbpaQIDAgBLNbT/dC54b0wBZriBZDaXxnbr28dtYP/N8BWFkr045ZmXzh4Pjp7cLX1xvGlADqDq4SLkziPaNGIz2T6DXRmVwLB7BcBnKOh6bBZ01R3Vy1QMyZv5os0eA+0S96TTfOKU9Ka/jHVErzhIUNhRDAyAlXw5AF5IBG52Wr1BAdpWDyARWIUEf2sZtP1oAWDc389UDOribWs1gj9MozWXTRC/MEDoAwAy7P80iEkuXgaAYwFMtku2Gr2ZRMAOLN8wDV9cDEzFHXFgkz0rEoypiAQyxhntSafmzli94d0Jrb9YALAc3FQFzHQZ36zJsP6s7bl9ZhD6dqy1wCsldN5/JHTXzwY+PQlMM5MeZbS/P1bWv/zp0GgsulBpYUgytl/tlwOos+A8FhW/16mASsNiAOH4M80ce0zF6RJSL0+FjjvmgpicJsdhXrqt66LpL29cMWH2jS3Re39tHwCEWf3krWAPceR/G+Q0DIf9928pWMeR2eYxAkgLaKld5HEttk/dtHkB7tzZVbjpW5E1ygkWdvTZfX3gdov7AsDI/5uAVD1/mwDmALDRp3uHfqCMSGAciJVr3XHHkf86+a7N/5jdBPJ3V3VtmNmUv08U9M0NJgupFgcUr304ANRBlGaLnSpltf9ITkcfdMxULAaIXC6GU+A13K9zf06/N9jLaoibBN+WE71tiFh6QPauYAy8ZPfyZ75b+pVgKfpygj4A8FfCSZyJ1VrZ/rxD5LsPl1w2vqyB0RZerqqgEwjPKdCJGyEAdi/ufh8IJoFN2z9wrjBUY1pSvtOg4gtgIyDUYR8X+74AWA7cL+dfQAfvthm/tvgld4uCphiSgaa0foB/Qn+pkKafYf3TqoB2b+r+EIkmBQ2pD6yLAD0eiZDcwyc3AHj9iYI+AJBT2NcR2W2WVKPWAPddUPMxZKQU0VUOUw8WbPebgrCDAwA+dyP0gZOa8/o3SvvtNtZHCZRnsR8jsq8CodPTlz9nG0ObwglFUp4jXoAXsbZwadIHBwBAchGBtPROefY7Ja/2R8Y+OoAyLmDEi0H3atycMwCQZAySPsoTItWwuWAK4EHCAUxehUnjICGvo+74PQ212KeWogcANgR8Jwh5NF+BiGeQ9QLm+qI0i0Abq5dzsBYK2if/IOEA2rZqYnRPezr+9cZaSO5vCewFgPEBVEFETmEvIbD5ZIo+c35RGhhsds6V8zNOp5x/IssXHiQAsCFXkvS4vyd5+XO3VXYB7OsT2AuA5cBhGsR85WxEgEMzJ3FluZ7Z3GZCRObnCWepumACANks2ejuyUTpSePzoLzzG2Byx/6WwF4ArAIBHRCTJWITAE7LtQWQCRMS0cPuMnX5BABGR9xsns4AQBO8pris/vOrT3VA3aX7+AL2AuAOcOAwiElXvAuAk/MBAOtVIH2vWKqunABANiQc3T29APB2kunTD19b1la3nzOoAABQ94qlegIAo6Nt1k9buUuwlTN9ovLK2ve3BPqKgFKxGQgr88EBrDOa9K/dZepzExwgaxqO6kYDAE2wDaU+EaCsbXAAAER95TSFSmAOncBmDrbk1+SL/dFZShdPAGBUdM364QAA9E6S0cmDiwBjBQC4egp7hZDNC13BWX8oqxuRPEb6Tb5UL5oAQFYrNtqbMlH4t1NSnXboxvL2gXWAwA8g1FS+EgBPzZsjyKUWptScQsYBzKoeLH4Aw8YVwXrF5bl/fnVSx/4Rwf5cwY8A4oV5cgX7TEDSS8pF0U/A1glX8Gg3+ODPh44XEMYP4KTPW5Gq6BzQD2CldC0wdQb7KXB2TX6CQfZQZalJVjvPwcsTwaD8AkCbJAewp60/Lp3k5c8lK7sGB8By4LKS3YDEbg1FQM4VQTRNf6T8ouvAw4UUAweJCNAm00lpuHePjH9t0FiA5QAmISTOr8A43mlaJOc+IcTUGJEiX/+SL9XXTIiA/HIAGw1kDmhffaPz/dgdjXeiaX69z9VHB5BPw+nMdVZqaRpa5yElzB6LpzeKCp2ALaDx0sJUAh8MHMBWXokIOMnuM/5UO8kU+vS5+tYF/B7KaIrYrtI2KdTNJUaNTcJMUmgcsDMt55Y/A1sKpQdYAGwE2r24+0MgmmTawedyrtm8q+dgghxnXtlvB5V6vnCi0OGmDnsp24wgmxa+im8hjYf0bgqRzYQGvse09g06CWnTOdORcHvz3G/f8Jk3/3l07x3F0z1Jocn3Qevy8E3DbG8yiu+bRxEMS44Z/0uQHJ07lSto4YCecCO0h/OKFzogPXROYHDcA/lP46PIxEWZPgGjnGZYBxpkJe9BAZ9t/pi3Xk3bun3hKwtgflOBE0NaTeCrIJeIEinp/jtycRlo03Itt5ep1daA7z3jx4+2b+6nPqCvCABAtRJqWEQ8rE2zDz2yzOC9+YRBqzHiGt7wK+Bvm5cCMq0nI6T3OJ0fe21D6hWoLVzb18RXaPTFLyOgm1sCwpsEOMlNvUekbFZyrhFAjJOQ+v6nb4xfGQxxiLoAKzqWgwslMEvHxWZStrXDiMZlPf9AJikNHC7h113HwlfbToOPinaQyIgZZUCqB9f+z0evCDnfsPv5j2Ddi+gRwrNu6Z4ZiUS3qXTKSOz+m3CMcMSm/po7Dnl++vrV3yn7+UCv6csBjEv4ZCiVEfEKEBw9ZHOIPm/eWx5uu8pyDde0nAWPp+bAkbwT0sCNImiektx1lC87Dlt76ZO7wwOdRjjd8fgY4ZIfdH+LI3zf1E7mXglFQu6AL1V117boC/2ZgIEa0s9lZL+q548C4ieJsrUEwmmE6idjCt5XJXDJ7mXQBg5MRs+6FYKPGt5gu0IaZ9V9r/7l0S9DAVPECwKfGuLVi1PPIukTgkOrcssAba8WwnYFePzq9bHt/VUFDQ6AJ+HzGHPu0eZAlCwSRDNHsVkScw3PpGbB51vPhemsGxzTTWzfo9mCM70ANTKd6mwXC/6it7wPVzf2cVQUhDh5/qjRO8pmdxzOXPd1IuWOvgS774BNVRAie0t70cX9pYNnnhiQA8AfoJQqxS6VNPZx/4dCBYZLxsTTIIFZeX9rewJu75oPHxHtkCYO3AIgmGbmg1ZHYKa9GFMM/cdevuT3nw4OoMjxVsgzMYf/+qAcvfqWrh8y7vxvUtK6XIf/noGfsEIYUaGnl6+sLf1cf8rf0AAwQrqe/4YxvJj0AG3iwjSPzBGY3cjg8t1L4U05CSpZynqTg/8Hmp/lA+b4Aa3Rv2ztG7979MAXBYTVtW2TeLz0fe2nze7PqRUSChLlaBebZ8nLGq+K1w0GrgGRZ7qEK4KPMyEe0z4iGY2uZ/uGEssoc8a7xzVs9Crg080fhxhKiKERP0Hp55CNIgNhoJDh9q27ZlTtatiVhLq6A7dRZC2xakzeioK+GTRFz6H3Jzww01jyzIno7m4x8wWAtqz7A/RGim0WtQSmKMXXE+D0feIC4dmnxkXAmYT7uubCDe2nwVzeBoahZc4RyIavBbqBzQ8i100+/ML6kz8PN9Xa2uRcssVieJeR/eLolhlxFXsDSJfkmvjBHE0JNhLT+ql6WXKe/adsG0Tsv0jWGljN7wIfr7DHoQSkspA1W9R0+7qqZQk87R0CR7DAxDPyfnig7rEeNHGmXZW+4UX2x19AgYJE+QOK6aEHsPSf/ZVaqjOIaXNoeDZ7ZJhDMgYl11qrqxvWxX81kPY/qA6Q+aUBgHcvLHCOFa+qpHUjccvymYZtuhQu2vU3dseXoAxOkAl8fsMEQPC10E4gJbgGmTp93ZudawvpIRzmqg95e00N8Q8+2vn5CGd3+hHkTBEbmYtt8E8FXRp51x4Ni1++MWpqPAblpIMi0IqBmwDkKnwciX/c6JbENP4peRh8ufVsmMm7LSLCFlAj9BnunVAIAnMsa6ckOHX9m61bDggQ1BI7IebNnaLZK4q8GGoTah/RPhmU+iGlfabxpfrvxpcADtwbKCsOYHem7RouziEGjyFq57b24/FHexbCPNEKKRKBiRfqMbngZ8EkTHM63OFJOvu1t1u2jWcQGLlfWdJRpiuc1yTT0wBB5Ef2W9tPc8dlKZn+wp+/VfJgqIEPCpqsaEZrwOludtd8ou2TH/2rKnEqMYkZZS+nPWR6DZUMCAB2+J5/1oYtne+NRxCYnIOy7TvcPYeVvwQMq9Ck6OXxsikAyHaKltgxT5Xa8O+QZytmBYCa5cBX+ZefPTNC9VGZtnkdthX8sBW+7GYfupYMb1EA2Kl1+lNrRexluHT8mIfH/IwiU6ElUvphZLWOwfyg5e7w1OPsViujQ1nrSxPpW1b5pbWDaf6935sVAKAWWFVVjShR9KRmVI00dtkzhhOgyz0vpT+3QbDfQdN8gtraIm4rSwi1gGfEumfG0/wlydVMIBK9vaDDIWy29xKAj8xJS0knrL4xYiq8szKjswOAtSWBLa46/xTBI/XaJ5MuNnyLL9vZ7HcfAfk8IoSf8u/v3JW62p1ZSk2X1hU0kaTfqSyv4VCzXJ92u3dJaRfeJdGPIkFkr5Y0wgUY4jF78gJyRaAeXfXtkkuD7qe5BkB4YNSi+y572C1NX6Klba2YL31mnylb68B6FslnjmhL054LN7z+xCtQVYNFIRYs4ev0nMfPm3zYpq98L95y/jVerIsxc/TlSLttDwMrRvljwvF8Xx7btS32wUCh3/5emT0HME8vB35M6SenTOkq3aC0mm79vUEa2ZhdhhswZKiQHk13sGs2lkN7IcVC4o6E01hxlD5Zy896gDeJaPuRvPlsKt32T0w7fhAsG6WPZKjFJTK2P97bvi1+3XCIPzKdhAAXP3TxVx2X/0T6YCCeF4fGELaLSSbwWYSDTsub2jvjD2666td/hbqaQMvOp7JIgIk7E6Lx6ka/urZatB9TuYQ4/EQ4sACkNqfrCWJtgGoqTHr7dgAoB2LWZsrHWcukgaRDEdkFXfOe/+7kbdmy/qz9AH0IYYz+uhp2HOgnYqiXKmUlwVgygZ4hGeQzwTiRatYEzyZl6u/je3ZuLzu2jBp2TSPDlu3No4krZJwcNwMmZiW42e2J1lTEm0rXuzryeQCYa84IJ3P+kXWXZ0LfPmjeBmXbfgSi43ggJx2kwlhuOXqWGZ7bRow71BHxv/fy35fcPBzZP3IAWIWwWiyeWz6dY7SJSJUimkO/cjOxodhdn99b1cCEJkjzmMNlMr0ONHtAkX5+/du/W5MJL5vd+mHVNBZr3UKGiNBURyYF3r7vZkCjT1RP24Uf7ppmucj0pl26IZOsSoALH7zwWOHw04HgfOby85nPHA3S71s7kTk6xwwpAtp9B6K7roT4jq+AdjrN8RlBwVV44NZIwJBR7xmB7wFu+0hH9+J74n3r/rJZy5FDkQCrHzn/8i6M3KtNJggZ3/bIX5fNYLO4x8SoGAqmtdI+CNZMafWWD/QAY/AcY6lWBqUetKb8ZEVUNrVWUAIaIVmRxO6u6aycu5ypuCMjnRGXlU8hotNJi0tFFOeB0hWAGLNuT230ekvGgSccnIFtlgXIaQGenAdlm28DEia/xrg3BsuTGHymmZg/MZeU9GuevTH+++Gy/tFxgMx2r63FRUe+dns0htcq0Nz47jJZf1kQK8e39ApCWa5gPYnGVHSYyzlzjL6gtJayAwh3IECbAkobbxMyEERYCkgVCDiTuSLCBKL2zcGYviaNnnXhIoq9Qeohgl49VnhgBBLrtjQq3/xTYOkjgRxvr6E2jI1jX2s8Psi1kPJX9TeWfDkkR1Z2//6LPtoti1XLa5wYwAtIegGRTW0eE9NwmOgJ8gvsWVU27ywj2XsvWpCV0FtnCO4a7RpZGRUcrWjOyfsrxLf/E0R3fwq0k7LtGIfjUbUtXxD8qMfeU7NiiRVXQ8dId39uhPZy4KfICyvT3F3DgWYbhSgXazZMAuf+9gw0Rk/+nkK9QFWJgI5sA7ft41C67dsQmIoGG0FC5GDhdHsqnwbSwiUf/VOfWxNfO1S8f6iFycn0YHkNX6jlPEH8BUQdCfLccvPqoSYwnn4fsqBAJPBOQF0C5Zt+AagnAzGTED1wDmXI+jVqrkXKv/6pv5TeOVri54YDZCiwvIbP89UZpRFWr02yQ5AGPIGC3gjNqA1GJFhiS9CiFcq2/RCc9pNBuybrJlyyXksXMiNy01y3TaWH5syKXVF3ad/TP0ayGXJLoDsSzvzyQz4Zc9zfkLQmOB9UUx7JiA+EZ8LT13tEQvRtiO68GuIf/B1oxxyiZqRoxlTMKCWkWLdePeWtsk/UmYy8fo5/GcnS5BYAZgRGHCh1nuuyR0iSCRjlNQY+kkkXzTM2qdrsbwZaNINIHwVlm/4vABdAqILwR2ArKMb45rZ3Wk9oXDorDTna/bkVAb1XdXkNT/jyM+jy/yRToGwPkbUdAnIPuKKh5ggGYn1GAYkDkZAGYgrKttwGInUsaNc3N6QBxXspL3XKCw3lHdAwdJLHcEaSP4IYb+G88tMZOE8CUTRwk+bvc8OZdFHea/UCczHQ7nsQ3/4tiDWfJylK21Wqa1F/rd5zMY/8UmR5DV+s0osZcx4HogpEc36JGfbIModzMeHifUewJgSKUEdRRzd7vPXitya99e0zW1uhe7hRvmznmV8AhDpBFXRNi2H8CURYSNKUk0xwg4EIZDOgkCGJ9PM71dpl78NpXj6jm/kHgJlpLbAjDq92p5ZN/TfUeAWZimO0oeSJKxMUMl4eRpq5HGRK/yLN3/hm07QmDXk+WHPsaGC0nJtr8YR5a/6Osdi/ktYxJNugeuzGUKxwMyugUZIgCSn6WuPnfvvLUYWwhzHPsV380AO/8IGaI9yI/i0AHGcKxIsxeDCMNRzVrda9S+BrobemoPvTTa//6Q0bph5NDsMwRjS2AJ/Q674AAANxSURBVAgHZtOodlygFs1d/w8OZ/8HTOKkKWnMohHFMOZWhLfuq/wSUJo7XKgk3tHo0vXQuoWNdZOMggDAUsaUnUEtJI7bMIN8/DUinWEqkMNc1gPYeWQ64yAhI40k3u/G1LKNEHnHJqgUoE1O4QAQ7s+q5TWuSfE+/qHPnMcQbhYxkVBJmcbw6PrxbDAGwZ9QwAU5Cj4yxgF1i+/Bd9a/vfDuqqqNopAp7gUHgMVBmGd4zAd7RMnUkvOcCPwYNM0hbXPsNEI+TjEdGwlhzTrj6+NG1aFmBO/+dDJ104YtXhpuajBd9EaUyJGr0RcHADKzCfPrTdatHz/6wkgkfTPyyDztKUlIJiOH2eXKaaw+N0sZJpoELwvC+sa35yNDhxA6yFe1Unb/54YvPPWh1YGKpCFWcQGgFy3MIpns3uYPy093kH+HaXYiRniFTtvuMRKAxN7YQpCIWUiDMqxqlqZGhzmcKSU9RHzN1+o+nzl3NpkInslSLvCO3x/uRQsAO9CQI5i/Lnj4okMFE5/gBNeJEme+7PJMEqqyaWhhP6Ix9ilYo9Z2TEGQth+Sy0GRbFWk/kNreOS1psUbTR2jyUjuyTDODcPJ2VuKGwC9p2nAYDRlqIVjEw1TyjqnXgeOPoNJdhIrEZO1p1FLpRBQUVCGHeQiZLKsRrpk4fNhubpGMDnBwJEzziOcZLefREYvK41vsGTkZ40l8m2z0zPFIyP97Fg9N34AkFmR2lpmm0jdXIvmzwV/+Nh0t3PSkchhGSD8D+bww4goDpJcy24RNAQ5CZb5Bi2OBtO7LGYCR0yGXRtl3pyjJ3iaGCS1J9/jhH9MS/YURlJb1kPsg57ytAzXKjJWPxCgxh8A9p/JHQknAQA9SlVtLVtw1Pq5LocTgMF0IDgcEY4gxEMRqBQIo4AQATJ5i+ZMJWNo2BRyo1yYXO00EZrcrFYA2k7EthDqnUzDjm7mrXvzzSc29RSbrKoWnW91YrEodCPhGuMfAJlZ21hDqAYaV6rhEFUbg/k11ZENRnllLFkRZaozjZMj/j5zb0s7xMsiJFLtVBKdpNsBVFNNnd9Tb5hx1BgOBLUwlu7akRA222cOHAAMPmPbtMGWfzXtsnPunNW5z9zLdpQRLAGwNYUhaArhmcuWcLm672ABQK7W64B7zwQADjiSDm9C/w36yrhxXJONbgAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/app-logo.06dea132.png\";","import React from 'react';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { Link } from 'react-router-dom';\r\nimport { Avatar, Menu } from 'antd';\r\nimport {\r\n\tHomeOutlined,\r\n\tUserOutlined,\r\n\tLogoutOutlined,\r\n\tLoginOutlined,\r\n} from '@ant-design/icons';\r\nimport { Viewer } from '../../../../lib/types';\r\nimport { LOG_OUT } from '../../../../lib/graphql/mutations';\r\nimport { LogOut as LogOutData } from '../../../../lib/graphql/mutations/LogOut/__generated__/LogOut';\r\nimport {\r\n\tdisplayErrorMessage,\r\n\tdisplaySuccessNotification,\r\n} from '../../../../lib/utils';\r\n\r\nconst { Item, SubMenu } = Menu;\r\n\r\ninterface Props {\r\n\tviewer: Viewer;\r\n\tsetViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nexport const MenuItems = ({ viewer, setViewer }: Props) => {\r\n\tconst [logOut] = useMutation<LogOutData>(LOG_OUT, {\r\n\t\tonCompleted: (data) => {\r\n\t\t\tif (data && data.logOut) {\r\n\t\t\t\tsetViewer(data.logOut);\r\n\t\t\t\tsessionStorage.removeItem('token');\r\n\t\t\t\tdisplaySuccessNotification(\"You've successfully logged out!\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tonError: (data) => {\r\n\t\t\tdisplayErrorMessage(\r\n\t\t\t\t\"Sorry! We weren't able to log you out. Please try again later!\"\r\n\t\t\t);\r\n\t\t},\r\n\t});\r\n\r\n\tconst handleLogOut = () => {\r\n\t\tlogOut();\r\n\t};\r\n\r\n\tconst subMenuLogin =\r\n\t\tviewer.id && viewer.avatar ? (\r\n\t\t\t<SubMenu title={<Avatar src={viewer.avatar} />}>\r\n\t\t\t\t<Item key=\"/user\">\r\n\t\t\t\t\t<Link to={`/user/${viewer.id}`}>\r\n\t\t\t\t\t\t<UserOutlined /> Profile\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Item>\r\n\t\t\t\t<Item key=\"/logout\">\r\n\t\t\t\t\t<div onClick={handleLogOut}>\r\n\t\t\t\t\t\t<LogoutOutlined />\r\n\t\t\t\t\t\tSign Out\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Item>\r\n\t\t\t</SubMenu>\r\n\t\t) : (\r\n\t\t\t<Item>\r\n\t\t\t\t<Link to=\"/login\">\r\n\t\t\t\t\t<LoginOutlined /> Sign In\r\n\t\t\t\t</Link>\r\n\t\t\t</Item>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<Menu mode=\"horizontal\" selectable={false} className=\"menu\">\r\n\t\t\t<Item key=\"/host\">\r\n\t\t\t\t<Link to=\"/host\">\r\n\t\t\t\t\t<HomeOutlined /> List your car\r\n\t\t\t\t</Link>\r\n\t\t\t</Item>\r\n\t\t\t{subMenuLogin}\r\n\t\t</Menu>\r\n\t);\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link, withRouter, RouteComponentProps } from 'react-router-dom';\r\nimport { Input, Layout } from 'antd';\r\nimport logo from './assets/app-logo.png';\r\nimport { Viewer } from '../../lib/types';\r\nimport { MenuItems } from './components';\r\nimport { displayErrorMessage } from '../../lib/utils';\r\n\r\nconst { Header } = Layout;\r\nconst { Search } = Input;\r\n\r\ninterface Props {\r\n\tviewer: Viewer;\r\n\tsetViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nexport const AppHeader = withRouter(\r\n\t({ viewer, setViewer, location, history }: Props & RouteComponentProps) => {\r\n\t\tconst [search, setSearch] = useState('');\r\n\r\n\t\tuseEffect(() => {\r\n\t\t\tconst { pathname } = location;\r\n\t\t\tconst pathnameSubStrings = pathname.split('/');\r\n\r\n\t\t\tif (!pathname.includes('/listings')) {\r\n\t\t\t\tsetSearch('');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (pathname.includes('/listings') && pathnameSubStrings.length === 3) {\r\n\t\t\t\tsetSearch(pathnameSubStrings[2]);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}, [location]);\r\n\r\n\t\tconst onSearch = (value: string) => {\r\n\t\t\tconst trimmedValue = value.trim();\r\n\r\n\t\t\tif (trimmedValue) {\r\n\t\t\t\thistory.push(`/listings/${trimmedValue}`);\r\n\t\t\t} else {\r\n\t\t\t\tdisplayErrorMessage('Please enter a valid search!');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<Header className=\"app-header\">\r\n\t\t\t\t<div className=\"app-header__logo-search-section\">\r\n\t\t\t\t\t<div className=\"app-header__logo\">\r\n\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t<img src={logo} alt=\"App logo\" />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"app-header__search-input\">\r\n\t\t\t\t\t<Search\r\n\t\t\t\t\t\tplaceholder=\"Search for location\"\r\n\t\t\t\t\t\tenterButton\r\n\t\t\t\t\t\tonSearch={onSearch}\r\n\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"app-header__menu-section\">\r\n\t\t\t\t\t<MenuItems viewer={viewer} setViewer={setViewer} />\r\n\t\t\t\t</div>\r\n\t\t\t</Header>\r\n\t\t);\r\n\t}\r\n);\r\n","import React, { useEffect, useRef } from 'react';\r\nimport { Redirect, RouteComponentProps } from 'react-router-dom';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { Layout, Spin } from 'antd';\r\nimport { CONNECT_STRIPE } from '../../lib/graphql/mutations';\r\nimport {\r\n\tConnectStripe as ConnectStipeData,\r\n\tConnectStripeVariables,\r\n} from '../../lib/graphql/mutations/ConnectStripe/__generated__/ConnectStripe';\r\nimport { Viewer } from '../../lib/types';\r\nimport { displaySuccessNotification } from '../../lib/utils';\r\n\r\ninterface Props {\r\n\tviewer: Viewer;\r\n\tsetViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nconst { Content } = Layout;\r\n\r\nexport const Stripe = ({\r\n\tviewer,\r\n\tsetViewer,\r\n\thistory,\r\n}: Props & RouteComponentProps) => {\r\n\tconst [connectStripe, { data, loading, error }] = useMutation<\r\n\t\tConnectStipeData,\r\n\t\tConnectStripeVariables\r\n\t>(CONNECT_STRIPE, {\r\n\t\tonCompleted: (data) => {\r\n\t\t\tif (data && data.connectStripe) {\r\n\t\t\t\tsetViewer({ ...viewer, hasWallet: data.connectStripe.hasWallet });\r\n\t\t\t\tdisplaySuccessNotification(\r\n\t\t\t\t\t\"You've successfully connected your Stripe Account!\",\r\n\t\t\t\t\t'You can now begin to share your cars!'\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t});\r\n\r\n\tconst connectStripeRef = useRef(connectStripe);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst code = new URL(window.location.href).searchParams.get('code');\r\n\r\n\t\tif (code) {\r\n\t\t\tconnectStripeRef.current({\r\n\t\t\t\tvariables: {\r\n\t\t\t\t\tinput: { code },\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\thistory.replace('/login');\r\n\t\t}\r\n\t}, [history]);\r\n\r\n\tif (data && data.connectStripe) {\r\n\t\treturn <Redirect to={`/user/${viewer.id}`} />;\r\n\t}\r\n\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<Content className=\"stripe\">\r\n\t\t\t\t<Spin size=\"large\" tip=\"Connecting your Stripe account...\" />\r\n\t\t\t</Content>\r\n\t\t);\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn <Redirect to={`/user/${viewer.id}?stripe_error=true`} />;\r\n\t}\r\n\r\n\treturn null;\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\nimport { render } from 'react-dom';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport ApolloClient from 'apollo-boost';\nimport { ApolloProvider, useMutation } from '@apollo/react-hooks';\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { LOG_IN } from './lib/graphql/mutations';\nimport {\n\tLogIn as LogInData,\n\tLogInVariables,\n} from './lib/graphql/mutations/LogIn/__generated__/LogIn';\nimport {\n\tHome,\n\tHost,\n\tListing,\n\tListings,\n\tNotFound,\n\tUser,\n\tLogin,\n\tAppHeader,\n\tStripe,\n} from './sections';\nimport { Affix, Layout, Spin } from 'antd';\nimport { Viewer } from './lib/types';\nimport { AppHeaderSkeleton, ErrorBanner } from './lib/components';\nimport './styles/index.css';\n\nconst client = new ApolloClient({\n\turi: '/api',\n\trequest: async (operation) => {\n\t\tconst token = sessionStorage.getItem('token');\n\t\toperation.setContext({\n\t\t\theaders: {\n\t\t\t\t'X-CSRF-TOKEN': token || '',\n\t\t\t},\n\t\t});\n\t},\n});\n\nconst initialViewer: Viewer = {\n\tid: null,\n\ttoken: null,\n\tavatar: null,\n\thasWallet: null,\n\tdidRequest: false,\n};\n\nconst stripePromise = loadStripe(\n\tprocess.env.REACT_APP_STRIPE_PUBLISHABLE_KEY as string\n);\n\nconst App = () => {\n\tconst [viewer, setViewer] = useState<Viewer>(initialViewer);\n\n\tconst [logIn, { error }] = useMutation<LogInData, LogInVariables>(LOG_IN, {\n\t\tonCompleted: (data) => {\n\t\t\tif (data && data.logIn) {\n\t\t\t\tsetViewer(data.logIn);\n\n\t\t\t\tif (data.logIn.token) {\n\t\t\t\t\tsessionStorage.setItem('token', data.logIn.token);\n\t\t\t\t} else {\n\t\t\t\t\tsessionStorage.removeItem('token');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n\n\tconst logInRef = useRef(logIn);\n\n\tuseEffect(() => {\n\t\tlogInRef.current();\n\t}, []);\n\n\tif (!viewer.didRequest && !error) {\n\t\treturn (\n\t\t\t<Layout className=\"app-skeleton\">\n\t\t\t\t<AppHeaderSkeleton />\n\t\t\t\t<div className=\"app-skeleton__spin-section\">\n\t\t\t\t\t<Spin size=\"large\" tip=\"Welcome to Flaircnc\" />\n\t\t\t\t</div>\n\t\t\t</Layout>\n\t\t);\n\t}\n\n\tconst logInErrorBannerElement = error ? (\n\t\t<ErrorBanner description=\"We weren't able to verify if you were logged in. Please try again later!\" />\n\t) : null;\n\n\treturn (\n\t\t<Router>\n\t\t\t<Layout id=\"app\">\n\t\t\t\t{logInErrorBannerElement}\n\t\t\t\t<Affix offsetTop={0} className=\"app__affix-header\">\n\t\t\t\t\t<AppHeader setViewer={setViewer} viewer={viewer} />\n\t\t\t\t</Affix>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/\" component={Home} />\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/host\"\n\t\t\t\t\t\trender={(props) => <Host {...props} viewer={viewer} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/listing/:id\"\n\t\t\t\t\t\trender={(props) => (\n\t\t\t\t\t\t\t<Elements stripe={stripePromise}>\n\t\t\t\t\t\t\t\t<Listing {...props} viewer={viewer} setViewer={setViewer} />{' '}\n\t\t\t\t\t\t\t</Elements>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route exact path=\"/listings/:location?\" component={Listings} />\n\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/login\"\n\t\t\t\t\t\trender={(props) => <Login {...props} setViewer={setViewer} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/user/:id\"\n\t\t\t\t\t\trender={(props) => (\n\t\t\t\t\t\t\t<User {...props} viewer={viewer} setViewer={setViewer} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/stripe\"\n\t\t\t\t\t\trender={(props) => (\n\t\t\t\t\t\t\t<Stripe {...props} viewer={viewer} setViewer={setViewer} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route component={NotFound} />\n\t\t\t\t</Switch>\n\t\t\t</Layout>\n\t\t</Router>\n\t);\n};\n\nrender(\n\t<ApolloProvider client={client}>\n\t\t<App />\n\t</ApolloProvider>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}